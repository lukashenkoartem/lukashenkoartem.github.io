function ne(){}function gs(n){return n()}function ps(){return Object.create(null)}function Je(n){n.forEach(gs)}function da(n){return typeof n=="function"}function fa(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function ha(n){return Object.keys(n).length===0}function ga(n,...t){if(n==null)return ne;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function df(n,t,e){n.$$.on_destroy.push(ga(t,e))}function ff(n,t){n.appendChild(t)}function hf(n,t,e){n.insertBefore(t,e||null)}function pa(n){n.parentNode.removeChild(n)}function gf(n){return document.createElement(n)}function ma(n){return document.createTextNode(n)}function pf(){return ma(" ")}function mf(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function bf(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function _f(n){return n===""?null:+n}function ba(n){return Array.from(n.childNodes)}function xf(n,t){n.value=t==null?"":t}let tn;function en(n){tn=n}function _a(){if(!tn)throw new Error("Function called outside component initialization");return tn}function yf(n){_a().$$.after_update.push(n)}const ye=[],ms=[],nn=[],bs=[],xa=Promise.resolve();let Kn=!1;function ya(){Kn||(Kn=!0,xa.then(_s))}function Zn(n){nn.push(n)}let Qn=!1;const Jn=new Set;function _s(){if(!Qn){Qn=!0;do{for(let n=0;n<ye.length;n+=1){const t=ye[n];en(t),va(t.$$)}for(en(null),ye.length=0;ms.length;)ms.pop()();for(let n=0;n<nn.length;n+=1){const t=nn[n];Jn.has(t)||(Jn.add(t),t())}nn.length=0}while(ye.length);for(;bs.length;)bs.pop()();Kn=!1,Qn=!1,Jn.clear()}}function va(n){if(n.fragment!==null){n.update(),Je(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Zn)}}const sn=new Set;let Ma;function Sa(n,t){n&&n.i&&(sn.delete(n),n.i(t))}function vf(n,t,e,i){if(n&&n.o){if(sn.has(n))return;sn.add(n),Ma.c.push(()=>{sn.delete(n),i&&(e&&n.d(1),i())}),n.o(t)}}function Mf(n){n&&n.c()}function Ta(n,t,e,i){const{fragment:s,on_mount:o,on_destroy:r,after_update:a}=n.$$;s&&s.m(t,e),i||Zn(()=>{const c=o.map(gs).filter(da);r?r.push(...c):Je(c),n.$$.on_mount=[]}),a.forEach(Zn)}function wa(n,t){const e=n.$$;e.fragment!==null&&(Je(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function ka(n,t){n.$$.dirty[0]===-1&&(ye.push(n),ya(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Sf(n,t,e,i,s,o,r,a=[-1]){const c=tn;en(n);const l=n.$$={fragment:null,ctx:null,props:o,update:ne,not_equal:s,bound:ps(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:ps(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};r&&r(l.root);let u=!1;if(l.ctx=e?e(n,t.props||{},(d,h,...p)=>{const b=p.length?p[0]:h;return l.ctx&&s(l.ctx[d],l.ctx[d]=b)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](b),u&&ka(n,d)),h}):[],l.update(),u=!0,Je(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){const d=ba(t.target);l.fragment&&l.fragment.l(d),d.forEach(pa)}else l.fragment&&l.fragment.c();t.intro&&Sa(n.$$.fragment),Ta(n,t.target,t.anchor,t.customElement),_s()}en(c)}class Tf{$destroy(){wa(this,1),this.$destroy=ne}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const s=i.indexOf(e);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!ha(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */const xs=function(){return typeof window=="undefined"?function(n){return n()}:window.requestAnimationFrame}();function ys(n,t,e){const i=e||(r=>Array.prototype.slice.call(r));let s=!1,o=[];return function(...r){o=i(r),s||(s=!0,xs.call(window,()=>{s=!1,n.apply(t,o)}))}}function Pa(n,t){let e;return function(){return t?(clearTimeout(e),e=setTimeout(n,t)):n(),t}}const Oa=n=>n==="start"?"left":n==="end"?"right":"center",vs=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Ca=function(){let n=0;return function(){return n++}}();function V(n){return n===null||typeof n=="undefined"}function H(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.substr(0,7)==="[object"&&t.substr(-6)==="Array]"}function B(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const J=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function ht(n,t){return J(n)?n:t}function z(n,t){return typeof n=="undefined"?t:n}const Ea=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/t,ti=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function R(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function I(n,t,e,i){let s,o,r;if(H(n))if(o=n.length,i)for(s=o-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<o;s++)t.call(e,n[s],s);else if(B(n))for(r=Object.keys(n),o=r.length,s=0;s<o;s++)t.call(e,n[r[s]],r[s])}function on(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function rn(n){if(H(n))return n.map(rn);if(B(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=rn(n[e[s]]);return t}return n}function Ms(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Aa(n,t,e,i){if(!Ms(n))return;const s=t[n],o=e[n];B(s)&&B(o)?ve(s,o,i):t[n]=rn(o)}function ve(n,t,e){const i=H(t)?t:[t],s=i.length;if(!B(n))return n;e=e||{};const o=e.merger||Aa;for(let r=0;r<s;++r){if(t=i[r],!B(t))continue;const a=Object.keys(t);for(let c=0,l=a.length;c<l;++c)o(a[c],n,t,e)}return n}function Me(n,t){return ve(n,t,{merger:Da})}function Da(n,t,e){if(!Ms(n))return;const i=t[n],s=e[n];B(i)&&B(s)?Me(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rn(s))}const Ra="",La=".";function Ss(n,t){const e=n.indexOf(La,t);return e===-1?n.length:e}function Nt(n,t){if(t===Ra)return n;let e=0,i=Ss(t,e);for(;n&&i>e;)n=n[t.substr(e,i-e)],e=i+1,i=Ss(t,e);return n}function ei(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ot=n=>typeof n!="undefined",ie=n=>typeof n=="function",Ia=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},X=Math.PI,W=2*X,Fa=W+X,an=Number.POSITIVE_INFINITY,za=X/180,Y=X/2,Se=X/4,Ts=X*2/3,gt=Math.log10,pt=Math.sign;function ws(n){const t=Math.round(n);n=Te(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(gt(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Na(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function se(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Te(n,t,e){return Math.abs(n-t)<e}function Ba(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function ks(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function _t(n){return n*(X/180)}function ni(n){return n*(180/X)}function Ps(n){if(!J(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Va(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*X&&(o+=W),{angle:o,distance:s}}function ii(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Wa(n,t){return(n-t+Fa)%W-X}function At(n){return(n%W+W)%W}function cn(n,t,e,i){const s=At(n),o=At(t),r=At(e),a=At(o-s),c=At(r-s),l=At(s-o),u=At(s-r);return s===o||s===r||i&&o===r||a>c&&l<u}function tt(n,t,e){return Math.max(t,Math.min(e,n))}function Ha(n){return tt(n,-32768,32767)}const ln=n=>n===0||n===1,Os=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*W/e)),Cs=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*W/e)+1,we={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Y)+1,easeOutSine:n=>Math.sin(n*Y),easeInOutSine:n=>-.5*(Math.cos(X*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ln(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ln(n)?n:Os(n,.075,.3),easeOutElastic:n=>ln(n)?n:Cs(n,.075,.3),easeInOutElastic(n){const t=.1125,e=.45;return ln(n)?n:n<.5?.5*Os(n*2,t,e):.5+.5*Cs(n*2-1,t,e)},easeInBack(n){const t=1.70158;return n*n*((t+1)*n-t)},easeOutBack(n){const t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-we.easeOutBounce(1-n),easeOutBounce(n){const t=7.5625,e=2.75;return n<1/e?t*n*n:n<2/e?t*(n-=1.5/e)*n+.75:n<2.5/e?t*(n-=2.25/e)*n+.9375:t*(n-=2.625/e)*n+.984375},easeInOutBounce:n=>n<.5?we.easeInBounce(n*2)*.5:we.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},si="0123456789ABCDEF",ja=n=>si[n&15],Ya=n=>si[(n&240)>>4]+si[n&15],un=n=>(n&240)>>4==(n&15);function Ua(n){return un(n.r)&&un(n.g)&&un(n.b)&&un(n.a)}function Xa(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&mt[n[1]]*17,g:255&mt[n[2]]*17,b:255&mt[n[3]]*17,a:t===5?mt[n[4]]*17:255}:(t===7||t===9)&&(e={r:mt[n[1]]<<4|mt[n[2]],g:mt[n[3]]<<4|mt[n[4]],b:mt[n[5]]<<4|mt[n[6]],a:t===9?mt[n[7]]<<4|mt[n[8]]:255})),e}function $a(n){var t=Ua(n)?ja:Ya;return n&&"#"+t(n.r)+t(n.g)+t(n.b)+(n.a<255?t(n.a):"")}function ke(n){return n+.5|0}const dn=(n,t,e)=>Math.max(Math.min(n,e),t);function Pe(n){return dn(ke(n*2.55),0,255)}function Oe(n){return dn(ke(n*255),0,255)}function oi(n){return dn(ke(n/2.55)/100,0,1)}function Es(n){return dn(ke(n*100),0,100)}const qa=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ga(n){const t=qa.exec(n);let e=255,i,s,o;if(!!t){if(t[7]!==i){const r=+t[7];e=255&(t[8]?Pe(r):r*255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Pe(i):i),s=255&(t[4]?Pe(s):s),o=255&(t[6]?Pe(o):o),{r:i,g:s,b:o,a:e}}}function Ka(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${oi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Za=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function As(n,t,e){const i=t*Math.min(e,1-e),s=(o,r=(o+n/30)%12)=>e-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function Qa(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Ja(n,t,e){const i=As(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function ri(n){const t=255,e=n.r/t,i=n.g/t,s=n.b/t,o=Math.max(e,i,s),r=Math.min(e,i,s),a=(o+r)/2;let c,l,u;return o!==r&&(u=o-r,l=a>.5?u/(2-o-r):u/(o+r),c=o===e?(i-s)/u+(i<s?6:0):o===i?(s-e)/u+2:(e-i)/u+4,c=c*60+.5),[c|0,l||0,a]}function ai(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Oe)}function ci(n,t,e){return ai(As,n,t,e)}function tc(n,t,e){return ai(Ja,n,t,e)}function ec(n,t,e){return ai(Qa,n,t,e)}function Ds(n){return(n%360+360)%360}function nc(n){const t=Za.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Pe(+t[5]):Oe(+t[5]));const s=Ds(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?i=tc(s,o,r):t[1]==="hsv"?i=ec(s,o,r):i=ci(s,o,r),{r:i[0],g:i[1],b:i[2],a:e}}function ic(n,t){var e=ri(n);e[0]=Ds(e[0]+t),e=ci(e),n.r=e[0],n.g=e[1],n.b=e[2]}function sc(n){if(!n)return;const t=ri(n),e=t[0],i=Es(t[1]),s=Es(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${oi(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Rs={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ls={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oc(){const n={},t=Object.keys(Ls),e=Object.keys(Rs);let i,s,o,r,a;for(i=0;i<t.length;i++){for(r=a=t[i],s=0;s<e.length;s++)o=e[s],a=a.replace(o,Rs[o]);o=parseInt(Ls[r],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}let fn;function rc(n){fn||(fn=oc(),fn.transparent=[0,0,0,0]);const t=fn[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}function hn(n,t,e){if(n){let i=ri(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ci(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Is(n,t){return n&&Object.assign(t||{},n)}function Fs(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Oe(n[3]))):(t=Is(n,{r:0,g:0,b:0,a:1}),t.a=Oe(t.a)),t}function ac(n){return n.charAt(0)==="r"?Ga(n):nc(n)}class gn{constructor(t){if(t instanceof gn)return t;const e=typeof t;let i;e==="object"?i=Fs(t):e==="string"&&(i=Xa(t)||rc(t)||ac(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Is(this._rgb);return t&&(t.a=oi(t.a)),t}set rgb(t){this._rgb=Fs(t)}rgbString(){return this._valid?Ka(this._rgb):this._rgb}hexString(){return this._valid?$a(this._rgb):this._rgb}hslString(){return this._valid?sc(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,o=t.rgb;let r;const a=e===r?.5:e,c=2*a-1,l=s.a-o.a,u=((c*l==-1?c:(c+l)/(1+c*l))+1)/2;r=1-u,s.r=255&u*s.r+r*o.r+.5,s.g=255&u*s.g+r*o.g+.5,s.b=255&u*s.b+r*o.b+.5,s.a=a*s.a+(1-a)*o.a,i.rgb=s}return i}clone(){return new gn(this.rgb)}alpha(t){return this._rgb.a=Oe(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ke(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hn(this._rgb,2,t),this}darken(t){return hn(this._rgb,2,-t),this}saturate(t){return hn(this._rgb,1,t),this}desaturate(t){return hn(this._rgb,1,-t),this}rotate(t){return ic(this._rgb,t),this}}function zs(n){return new gn(n)}const Ns=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function Bs(n){return Ns(n)?n:zs(n)}function li(n){return Ns(n)?n:zs(n).saturate(.5).darken(.1).hexString()}const Ut=Object.create(null),ui=Object.create(null);function Ce(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function di(n,t,e){return typeof t=="string"?ve(Ce(n,t),e):ve(Ce(n,""),t)}class cc{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>li(i.backgroundColor),this.hoverBorderColor=(e,i)=>li(i.borderColor),this.hoverColor=(e,i)=>li(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,e){return di(this,t,e)}get(t){return Ce(this,t)}describe(t,e){return di(ui,t,e)}override(t,e){return di(Ut,t,e)}route(t,e,i,s){const o=Ce(this,t),r=Ce(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=r[s];return B(c)?Object.assign({},l,c):z(c,l)},set(c){this[a]=c}}})}}var N=new cc({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function lc(n){return!n||V(n.size)||V(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function pn(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function uc(n,t,e,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let r=0;const a=e.length;let c,l,u,d,h;for(c=0;c<a;c++)if(d=e[c],d!=null&&H(d)!==!0)r=pn(n,s,o,r,d);else if(H(d))for(l=0,u=d.length;l<u;l++)h=d[l],h!=null&&!H(h)&&(r=pn(n,s,o,r,h));n.restore();const p=o.length/2;if(p>e.length){for(c=0;c<p;c++)delete s[o[c]];o.splice(0,p)}return r}function Xt(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Vs(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function fi(n,t,e,i){let s,o,r,a,c;const l=t.pointStyle,u=t.rotation,d=t.radius;let h=(u||0)*za;if(l&&typeof l=="object"&&(s=l.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(h),n.drawImage(l,-l.width/2,-l.height/2,l.width,l.height),n.restore();return}if(!(isNaN(d)||d<=0)){switch(n.beginPath(),l){default:n.arc(e,i,d,0,W),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(h)*d,i-Math.cos(h)*d),h+=Ts,n.lineTo(e+Math.sin(h)*d,i-Math.cos(h)*d),h+=Ts,n.lineTo(e+Math.sin(h)*d,i-Math.cos(h)*d),n.closePath();break;case"rectRounded":c=d*.516,a=d-c,o=Math.cos(h+Se)*a,r=Math.sin(h+Se)*a,n.arc(e-o,i-r,c,h-X,h-Y),n.arc(e+r,i-o,c,h-Y,h),n.arc(e+o,i+r,c,h,h+Y),n.arc(e-r,i+o,c,h+Y,h+X),n.closePath();break;case"rect":if(!u){a=Math.SQRT1_2*d,n.rect(e-a,i-a,2*a,2*a);break}h+=Se;case"rectRot":o=Math.cos(h)*d,r=Math.sin(h)*d,n.moveTo(e-o,i-r),n.lineTo(e+r,i-o),n.lineTo(e+o,i+r),n.lineTo(e-r,i+o),n.closePath();break;case"crossRot":h+=Se;case"cross":o=Math.cos(h)*d,r=Math.sin(h)*d,n.moveTo(e-o,i-r),n.lineTo(e+o,i+r),n.moveTo(e+r,i-o),n.lineTo(e-r,i+o);break;case"star":o=Math.cos(h)*d,r=Math.sin(h)*d,n.moveTo(e-o,i-r),n.lineTo(e+o,i+r),n.moveTo(e+r,i-o),n.lineTo(e-r,i+o),h+=Se,o=Math.cos(h)*d,r=Math.sin(h)*d,n.moveTo(e-o,i-r),n.lineTo(e+o,i+r),n.moveTo(e+r,i-o),n.lineTo(e-r,i+o);break;case"line":o=Math.cos(h)*d,r=Math.sin(h)*d,n.moveTo(e-o,i-r),n.lineTo(e+o,i+r);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(h)*d,i+Math.sin(h)*d);break}n.fill(),t.borderWidth>0&&n.stroke()}}function $t(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ws(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Hs(n){n.restore()}function dc(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function fc(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function mn(n,t,e,i,s,o={}){const r=H(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let c,l;for(n.save(),n.font=s.string,hc(n,o),c=0;c<r.length;++c)l=r[c],a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),V(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,e,i,o.maxWidth)),n.fillText(l,e,i,o.maxWidth),gc(n,e,i,l,o),i+=s.lineHeight;n.restore()}function hc(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),V(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function gc(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,c=e-o.actualBoundingBoxAscent,l=e+o.actualBoundingBoxDescent,u=s.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(r,u),n.lineTo(a,u),n.stroke()}}function hi(n,t){const{x:e,y:i,w:s,h:o,radius:r}=t;n.arc(e+r.topLeft,i+r.topLeft,r.topLeft,-Y,X,!0),n.lineTo(e,i+o-r.bottomLeft),n.arc(e+r.bottomLeft,i+o-r.bottomLeft,r.bottomLeft,X,Y,!0),n.lineTo(e+s-r.bottomRight,i+o),n.arc(e+s-r.bottomRight,i+o-r.bottomRight,r.bottomRight,Y,0,!0),n.lineTo(e+s,i+r.topRight),n.arc(e+s-r.topRight,i+r.topRight,r.topRight,0,-Y,!0),n.lineTo(e+r.topLeft,i)}const pc=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),mc=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function bc(n,t){const e=(""+n).match(pc);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const _c=n=>+n||0;function gi(n,t){const e={},i=B(t),s=i?Object.keys(t):t,o=B(n)?i?r=>z(n[r],n[t[r]]):r=>n[r]:()=>n;for(const r of s)e[r]=_c(o(r));return e}function js(n){return gi(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ys(n){return gi(n,["topLeft","topRight","bottomLeft","bottomRight"])}function xt(n){const t=js(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function lt(n,t){n=n||{},t=t||N.font;let e=z(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=z(n.style,t.style);i&&!(""+i).match(mc)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:z(n.family,t.family),lineHeight:bc(z(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:z(n.weight,t.weight),string:""};return s.string=lc(s),s}function bn(n,t,e,i){let s=!0,o,r,a;for(o=0,r=n.length;o<r;++o)if(a=n[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&H(a)&&(a=a[e%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function xc(n,t){const{min:e,max:i}=n;return{min:e-Math.abs(ti(t,e)),max:i+ti(t,i)}}function pi(n,t,e){e=e||(r=>n[r]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const qt=(n,t,e)=>pi(n,e,i=>n[i][t]<e),yc=(n,t,e)=>pi(n,e,i=>n[i][t]>=e);function vc(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const Us=["push","pop","shift","splice","unshift"];function Mc(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Us.forEach(e=>{const i="_onData"+ei(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),r}})})}function Xs(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Us.forEach(o=>{delete n[o]}),delete n._chartjs)}function $s(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function mi(n,t=[""],e=n,i,s=()=>n[0]){ot(i)||(i=Js("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:s,override:r=>mi([r,...n],t,e,i)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete r._keys,delete n[0][a],!0},get(r,a){return Ks(r,a,()=>Ec(a,t,n,r))},getOwnPropertyDescriptor(r,a){return Reflect.getOwnPropertyDescriptor(r._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,a){return to(r).includes(a)},ownKeys(r){return to(r)},set(r,a,c){const l=r._storage||(r._storage=s());return l[a]=c,delete r[a],delete r._keys,!0}})}function oe(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:qs(n,i),setContext:o=>oe(n,o,e,i),override:o=>oe(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete n[r],!0},get(o,r,a){return Ks(o,r,()=>Tc(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(o,r,a){return n[r]=a,delete o[r],!0}})}function qs(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:ie(e)?e:()=>e,isIndexable:ie(i)?i:()=>i}}const Sc=(n,t)=>n?n+ei(t):t,Gs=(n,t)=>B(t)&&n!=="adapters";function Ks(n,t,e){let i=n[t];return ot(i)||(i=e(),ot(i)&&(n[t]=i)),i}function Tc(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:r}=n;let a=i[t];return ie(a)&&r.isScriptable(t)&&(a=wc(t,a,n,e)),H(a)&&a.length&&(a=kc(t,a,n,r.isIndexable)),Gs(t,a)&&(a=oe(a,s,o&&o[t],r)),a}function wc(n,t,e,i){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),t=t(o,r||i),a.delete(n),B(t)&&(t=bi(s._scopes,s,n,t)),t}function kc(n,t,e,i){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=e;if(ot(o.index)&&i(n))t=t[o.index%t.length];else if(B(t[0])){const c=t,l=s._scopes.filter(u=>u!==c);t=[];for(const u of c){const d=bi(l,s,n,u);t.push(oe(d,o,r&&r[n],a))}}return t}function Zs(n,t,e){return ie(n)?n(t,e):n}const Pc=(n,t)=>n===!0?t:typeof n=="string"?Nt(t,n):void 0;function Oc(n,t,e,i){for(const s of t){const o=Pc(e,s);if(o){n.add(o);const r=Zs(o._fallback,e,o);if(ot(r)&&r!==e&&r!==i)return r}else if(o===!1&&ot(i)&&e!==i)return null}return!1}function bi(n,t,e,i){const s=t._rootScopes,o=Zs(t._fallback,e,i),r=[...n,...s],a=new Set;a.add(i);let c=Qs(a,r,e,o||e);return c===null||ot(o)&&o!==e&&(c=Qs(a,r,o,c),c===null)?!1:mi(Array.from(a),[""],s,o,()=>Cc(t,e,i))}function Qs(n,t,e,i){for(;e;)e=Oc(n,t,e,i);return e}function Cc(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return H(s)&&B(e)?e:s}function Ec(n,t,e,i){let s;for(const o of t)if(s=Js(Sc(o,n),e),ot(s))return Gs(n,s)?bi(e,i,n,s):s}function Js(n,t){for(const e of t){if(!e)continue;const i=e[n];if(ot(i))return i}}function to(n){let t=n._keys;return t||(t=n._keys=Ac(n._scopes)),t}function Ac(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const Dc=Number.EPSILON||1e-14,re=(n,t)=>t<n.length&&!n[t].skip&&n[t],eo=n=>n==="x"?"y":"x";function Rc(n,t,e,i){const s=n.skip?t:n,o=t,r=e.skip?t:e,a=ii(o,s),c=ii(r,o);let l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const d=i*l,h=i*u;return{previous:{x:o.x-d*(r.x-s.x),y:o.y-d*(r.y-s.y)},next:{x:o.x+h*(r.x-s.x),y:o.y+h*(r.y-s.y)}}}function Lc(n,t,e){const i=n.length;let s,o,r,a,c,l=re(n,0);for(let u=0;u<i-1;++u)if(c=l,l=re(n,u+1),!(!c||!l)){if(Te(t[u],0,Dc)){e[u]=e[u+1]=0;continue}s=e[u]/t[u],o=e[u+1]/t[u],a=Math.pow(s,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),e[u]=s*r*t[u],e[u+1]=o*r*t[u])}}function Ic(n,t,e="x"){const i=eo(e),s=n.length;let o,r,a,c=re(n,0);for(let l=0;l<s;++l){if(r=a,a=c,c=re(n,l+1),!a)continue;const u=a[e],d=a[i];r&&(o=(u-r[e])/3,a[`cp1${e}`]=u-o,a[`cp1${i}`]=d-o*t[l]),c&&(o=(c[e]-u)/3,a[`cp2${e}`]=u+o,a[`cp2${i}`]=d+o*t[l])}}function Fc(n,t="x"){const e=eo(t),i=n.length,s=Array(i).fill(0),o=Array(i);let r,a,c,l=re(n,0);for(r=0;r<i;++r)if(a=c,c=l,l=re(n,r+1),!!c){if(l){const u=l[t]-c[t];s[r]=u!==0?(l[e]-c[e])/u:0}o[r]=a?l?pt(s[r-1])!==pt(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}Lc(n,s,o),Ic(n,o,t)}function _n(n,t,e){return Math.max(Math.min(n,e),t)}function zc(n,t){let e,i,s,o,r,a=$t(n[0],t);for(e=0,i=n.length;e<i;++e)r=o,o=a,a=e<i-1&&$t(n[e+1],t),!!o&&(s=n[e],r&&(s.cp1x=_n(s.cp1x,t.left,t.right),s.cp1y=_n(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=_n(s.cp2x,t.left,t.right),s.cp2y=_n(s.cp2y,t.top,t.bottom)))}function Nc(n,t,e,i,s){let o,r,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")Fc(n,s);else{let l=i?n[n.length-1]:n[0];for(o=0,r=n.length;o<r;++o)a=n[o],c=Rc(l,a,n[Math.min(o+1,r-(i?0:1))%r],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&zc(n,e)}function no(){return typeof window!="undefined"&&typeof document!="undefined"}function ae(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function xn(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const yn=n=>window.getComputedStyle(n,null);function Bc(n,t){return yn(n).getPropertyValue(t)}const Vc=["top","right","bottom","left"];function Gt(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=Vc[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Wc=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Hc(n,t){const e=n.native||n,i=e.touches,s=i&&i.length?i[0]:e,{offsetX:o,offsetY:r}=s;let a=!1,c,l;if(Wc(o,r,e.target))c=o,l=r;else{const u=t.getBoundingClientRect();c=s.clientX-u.left,l=s.clientY-u.top,a=!0}return{x:c,y:l,box:a}}function io(n,t){const{canvas:e,currentDevicePixelRatio:i}=t,s=yn(e),o=s.boxSizing==="border-box",r=Gt(s,"padding"),a=Gt(s,"border","width"),{x:c,y:l,box:u}=Hc(n,e),d=r.left+(u&&a.left),h=r.top+(u&&a.top);let{width:p,height:b}=t;return o&&(p-=r.width+a.width,b-=r.height+a.height),{x:Math.round((c-d)/p*e.width/i),y:Math.round((l-h)/b*e.height/i)}}function jc(n,t,e){let i,s;if(t===void 0||e===void 0){const o=ae(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const r=o.getBoundingClientRect(),a=yn(o),c=Gt(a,"border","width"),l=Gt(a,"padding");t=r.width-l.width-c.width,e=r.height-l.height-c.height,i=xn(a.maxWidth,o,"clientWidth"),s=xn(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||an,maxHeight:s||an}}const _i=n=>Math.round(n*10)/10;function Yc(n,t,e,i){const s=yn(n),o=Gt(s,"margin"),r=xn(s.maxWidth,n,"clientWidth")||an,a=xn(s.maxHeight,n,"clientHeight")||an,c=jc(n,t,e);let{width:l,height:u}=c;if(s.boxSizing==="content-box"){const d=Gt(s,"border","width"),h=Gt(s,"padding");l-=h.width+d.width,u-=h.height+d.height}return l=Math.max(0,l-o.width),u=Math.max(0,i?Math.floor(l/i):u-o.height),l=_i(Math.min(l,r,c.maxWidth)),u=_i(Math.min(u,a,c.maxHeight)),l&&!u&&(u=_i(l/2)),{width:l,height:u}}function so(n,t,e){const i=t||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=s/i,n.width=o/i;const r=n.canvas;return r.style&&(e||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==s||r.width!==o?(n.currentDevicePixelRatio=i,r.height=s,r.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Uc=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function oo(n,t){const e=Bc(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Kt(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Xc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function $c(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},r=Kt(n,s,e),a=Kt(s,o,e),c=Kt(o,t,e),l=Kt(r,a,e),u=Kt(a,c,e);return Kt(l,u,e)}const ro=new Map;function qc(n,t){t=t||{};const e=n+JSON.stringify(t);let i=ro.get(e);return i||(i=new Intl.NumberFormat(n,t),ro.set(e,i)),i}function Ee(n,t,e){return qc(t,e).format(n)}const Gc=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Kc=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function xi(n,t,e){return n?Gc(t,e):Kc()}function Zc(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Qc(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ao(n){return n==="angle"?{between:cn,compare:Wa,normalize:At}:{between:(t,e,i)=>t>=Math.min(e,i)&&t<=Math.max(i,e),compare:(t,e)=>t-e,normalize:t=>t}}function co({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:s}}function Jc(n,t,e){const{property:i,start:s,end:o}=e,{between:r,normalize:a}=ao(i),c=t.length;let{start:l,end:u,loop:d}=n,h,p;if(d){for(l+=c,u+=c,h=0,p=c;h<p&&r(a(t[l%c][i]),s,o);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:n.style}}function tl(n,t,e){if(!e)return[n];const{property:i,start:s,end:o}=e,r=t.length,{compare:a,between:c,normalize:l}=ao(i),{start:u,end:d,loop:h,style:p}=Jc(n,t,e),b=[];let _=!1,y=null,v,M,k;const T=()=>c(s,k,v)&&a(s,k)!==0,w=()=>a(o,v)===0||c(o,k,v),O=()=>_||T(),C=()=>!_||w();for(let A=u,D=u;A<=d;++A)M=t[A%r],!M.skip&&(v=l(M[i]),v!==k&&(_=c(v,s,o),y===null&&O()&&(y=a(v,s)===0?A:D),y!==null&&C()&&(b.push(co({start:y,end:A,loop:h,count:r,style:p})),y=null),D=A,k=v));return y!==null&&b.push(co({start:y,end:d,loop:h,count:r,style:p})),b}function el(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const o=tl(i[s],n.points,t);o.length&&e.push(...o)}return e}function nl(n,t,e,i){let s=0,o=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&n[o%t].skip;)o--;return o%=t,{start:s,end:o}}function il(n,t,e,i){const s=n.length,o=[];let r=t,a=n[t],c;for(c=t+1;c<=e;++c){const l=n[c%s];l.skip||l.stop?a.skip||(i=!1,o.push({start:t%s,end:(c-1)%s,loop:i}),t=r=l.stop?c:null):(r=c,a.skip&&(t=c)),a=l}return r!==null&&o.push({start:t%s,end:r%s,loop:i}),o}function sl(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const o=!!n._loop,{start:r,end:a}=nl(e,s,o,i);if(i===!0)return lo(n,[{start:r,end:a,loop:o}],e,t);const c=a<r?a+s:a,l=!!n._fullLoop&&r===0&&a===s-1;return lo(n,il(e,r,c,l),e,t)}function lo(n,t,e,i){return!i||!i.setContext||!e?t:ol(n,t,e,i)}function ol(n,t,e,i){const s=uo(n.options),o=e.length,r=[];let a=t[0].start,c=a;for(const l of t){let u=s,d=e[a%o],h;for(c=a+1;c<=l.end;c++){const p=e[c%o];h=uo(i.setContext({type:"segment",p0:d,p1:p,p0DataIndex:(c-1)%o,p1DataIndex:c%o,datasetIndex:n._datasetIndex})),rl(h,u)&&(r.push({start:a,end:c-1,loop:l.loop,style:u}),u=h,a=c-1),d=p,u=h}a<c-1&&(r.push({start:a,end:c-1,loop:l.loop,style:h}),a=c-1)}return r}function uo(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function rl(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class al{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],r=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(i-e.start,r)}))}_refresh(){const t=this;t._request||(t._running=!0,t._request=xs.call(window,()=>{t._update(),t._request=null,t._running&&t._refresh()}))}_update(t=Date.now()){const e=this;let i=0;e._charts.forEach((s,o)=>{if(!s.running||!s.items.length)return;const r=s.items;let a=r.length-1,c=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),c=!0):(r[a]=r[r.length-1],r.pop());c&&(o.draw(),e._notify(o,s,t,"progress")),r.length||(s.running=!1,e._notify(o,s,t,"complete"),s.initial=!1),i+=r.length}),e._lastDate=t,i===0&&(e._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Dt=new al;const fo="transparent",cl={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Bs(n||fo),s=i.valid&&Bs(t||fo);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class ll{constructor(t,e,i,s){const o=e[i];s=bn([t.to,s,o,t.from]);const r=bn([t.from,o,s]);this._active=!0,this._fn=t.fn||cl[t.type||typeof r],this._easing=we[t.easing]||we.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){const s=this;if(s._active){s._notify(!1);const o=s._target[s._prop],r=i-s._start,a=s._duration-r;s._start=i,s._duration=Math.floor(Math.max(a,t.duration)),s._total+=r,s._loop=!!t.loop,s._to=bn([t.to,e,o,t.from]),s._from=bn([t.from,o,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,i=t-e._start,s=e._duration,o=e._prop,r=e._from,a=e._loop,c=e._to;let l;if(e._active=r!==c&&(a||i<s),!e._active){e._target[o]=c,e._notify(!0);return}if(i<0){e._target[o]=r;return}l=i/s%2,l=a&&l>1?2-l:l,l=e._easing(Math.min(1,Math.max(0,l))),e._target[o]=e._fn(r,c,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}const ul=["x","y","borderWidth","radius","tension"],dl=["color","borderColor","backgroundColor"];N.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const fl=Object.keys(N.animation);N.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});N.set("animations",{colors:{type:"color",properties:dl},numbers:{type:"number",properties:ul}});N.describe("animations",{_fallback:"animation"});N.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class ho{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!B(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!B(s))return;const o={};for(const r of fl)o[r]=s[r];(H(s.properties)&&s.properties||[i]).forEach(r=>{(r===i||!e.has(r))&&e.set(r,o)})})}_animateOptions(t,e){const i=e.options,s=gl(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&hl(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),a=Date.now();let c;for(c=r.length-1;c>=0;--c){const l=r[c];if(l.charAt(0)==="$")continue;if(l==="options"){s.push(...this._animateOptions(t,e));continue}const u=e[l];let d=o[l];const h=i.get(l);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){t[l]=u;continue}o[l]=d=new ll(h,t,l,u),s.push(d)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Dt.add(this._chart,i),!0}}function hl(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function gl(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function go(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function pl(n,t,e){if(e===!1)return!1;const i=go(n,e),s=go(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ml(n){let t,e,i,s;return B(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function po(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function mo(n,t,e,i){const s=n.keys,o=i.mode==="single";let r,a,c,l;if(t!==null){for(r=0,a=s.length;r<a;++r){if(c=+s[r],c===e){if(i.all)continue;break}l=n.values[c],J(l)&&(o||t===0||pt(t)===pt(l))&&(t+=l)}return t}}function bl(n){const t=Object.keys(n),e=new Array(t.length);let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i],e[i]={x:o,y:n[o]};return e}function bo(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function _l(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function xl(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function yl(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function _o(n,t,e){for(const i of t.getMatchingVisibleMetas("bar").reverse()){const s=n[i.index];if(e&&s>0||!e&&s<0)return i.index}return null}function xo(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:r,index:a}=i,c=o.axis,l=r.axis,u=_l(o,r,i),d=t.length;let h;for(let p=0;p<d;++p){const b=t[p],{[c]:_,[l]:y}=b,v=b._stacks||(b._stacks={});h=v[l]=yl(s,u,_),h[a]=y,h._top=_o(h,r,!0),h._bottom=_o(h,r,!1)}}function yi(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function vl(n,t){return Object.assign(Object.create(n),{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ml(n,t,e){return Object.assign(Object.create(n),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ae(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(!!i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e]}}}const vi=n=>n==="reset"||n==="none",yo=(n,t)=>t?n:Object.assign({},n);class Tt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=bo(e.vScale,e),t.addElements()}updateIndex(t){this.index!==t&&Ae(this._cachedMeta),this.index=t}linkScales(){const t=this,e=t.chart,i=t._cachedMeta,s=t.getDataset(),o=(h,p,b,_)=>h==="x"?p:h==="r"?_:b,r=i.xAxisID=z(s.xAxisID,yi(e,"x")),a=i.yAxisID=z(s.yAxisID,yi(e,"y")),c=i.rAxisID=z(s.rAxisID,yi(e,"r")),l=i.indexAxis,u=i.iAxisID=o(l,r,a,c),d=i.vAxisID=o(l,a,r,c);i.xScale=t.getScaleForId(r),i.yScale=t.getScaleForId(a),i.rScale=t.getScaleForId(c),i.iScale=t.getScaleForId(u),i.vScale=t.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Xs(this._data,this),t._stacked&&Ae(t)}_dataCheck(){const t=this,e=t.getDataset(),i=e.data||(e.data=[]),s=t._data;if(B(i))t._data=bl(i);else if(s!==i){if(s){Xs(s,t);const o=t._cachedMeta;Ae(o),o._parsed=[]}i&&Object.isExtensible(i)&&Mc(i,t),t._syncList=[],t._data=i}}addElements(){const t=this,e=t._cachedMeta;t._dataCheck(),t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(t){const e=this,i=e._cachedMeta,s=e.getDataset();let o=!1;e._dataCheck();const r=i._stacked;i._stacked=bo(i.vScale,i),i.stack!==s.stack&&(o=!0,Ae(i),i.stack=s.stack),e._resyncElements(t),(o||r!==i._stacked)&&xo(e,i._parsed)}configure(){const t=this,e=t.chart.config,i=e.datasetScopeKeys(t._type),s=e.getOptionScopes(t.getDataset(),i,!0);t.options=e.createResolver(s,t.getContext()),t._parsing=t.options.parsing}parse(t,e){const i=this,{_cachedMeta:s,_data:o}=i,{iScale:r,_stacked:a}=s,c=r.axis;let l=t===0&&e===o.length?!0:s._sorted,u=t>0&&s._parsed[t-1],d,h,p;if(i._parsing===!1)s._parsed=o,s._sorted=!0,p=o;else{H(o[t])?p=i.parseArrayData(s,o,t,e):B(o[t])?p=i.parseObjectData(s,o,t,e):p=i.parsePrimitiveData(s,o,t,e);const b=()=>h[c]===null||u&&h[c]<u[c];for(d=0;d<e;++d)s._parsed[d+t]=h=p[d],l&&(b()&&(l=!1),u=h);s._sorted=l}a&&xo(i,p)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:r}=t,a=o.axis,c=r.axis,l=o.getLabels(),u=o===r,d=new Array(s);let h,p,b;for(h=0,p=s;h<p;++h)b=h+i,d[h]={[a]:u||o.parse(l[b],b),[c]:r.parse(e[b],b)};return d}parseArrayData(t,e,i,s){const{xScale:o,yScale:r}=t,a=new Array(s);let c,l,u,d;for(c=0,l=s;c<l;++c)u=c+i,d=e[u],a[c]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(t,e,i,s){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=new Array(s);let u,d,h,p;for(u=0,d=s;u<d;++u)h=u+i,p=e[h],l[u]={x:o.parse(Nt(p,a),h),y:r.parse(Nt(p,c),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,r=e[t.axis],a={keys:po(s,!0),values:e._stacks[t.axis]};return mo(a,r,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let r=o===null?NaN:o;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,t.min=Math.min(t.min,r),t.max=Math.max(t.max,r),r=mo(s,o,this._cachedMeta.index,{all:!0})),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const i=this,s=i._cachedMeta,o=s._parsed,r=s._sorted&&t===s.iScale,a=o.length,c=i._getOtherScale(t),l=e&&s._stacked&&{keys:po(i.chart,!0),values:null},u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=xl(c);let p,b,_,y;function v(){return _=o[p],b=_[t.axis],y=_[c.axis],!J(b)||d>y||h<y}for(p=0;p<a&&!(!v()&&(i.updateRangeFromParsed(u,t,_,l),r));++p);if(r){for(p=a-1;p>=0;--p)if(!v()){i.updateRangeFromParsed(u,t,_,l);break}}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,r;for(s=0,o=e.length;s<o;++s)r=e[s][t.axis],J(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=i.iScale,o=i.vScale,r=e.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(t){const e=this,i=e._cachedMeta;e.configure(),e._cachedDataOpts={},e.update(t||"default"),i._clip=ml(z(e.options.clip,pl(i.xScale,i.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,i=t.chart,s=t._cachedMeta,o=s.data||[],r=i.chartArea,a=[],c=t._drawStart||0,l=t._drawCount||o.length-c;let u;for(s.dataset&&s.dataset.draw(e,r,c,l),u=c;u<c+l;++u){const d=o[u];d.hidden||(d.active?a.push(d):d.draw(e,r))}for(u=0;u<a.length;++u)a[u].draw(e,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this,o=s.getDataset();let r;if(t>=0&&t<s._cachedMeta.data.length){const a=s._cachedMeta.data[t];r=a.$context||(a.$context=Ml(s.getContext(),t,a)),r.parsed=s.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else r=s.$context||(s.$context=vl(s.chart.getContext(),s.index)),r.dataset=o,r.index=r.datasetIndex=s.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=this,o=e==="active",r=s._cachedDataOpts,a=t+"-"+e,c=r[a],l=s.enableOptionSharing&&ot(i);if(c)return yo(c,l);const u=s.chart.config,d=u.datasetElementScopeKeys(s._type,t),h=o?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(s.getDataset(),d),b=Object.keys(N.elements[t]),_=()=>s.getContext(i,o),y=u.resolveNamedOptions(p,b,_,h);return y.$shared&&(y.$shared=l,r[a]=Object.freeze(yo(y,l))),y}_resolveAnimations(t,e,i){const s=this,o=s.chart,r=s._cachedDataOpts,a=`animation-${e}`,c=r[a];if(c)return c;let l;if(o.options.animation!==!1){const d=s.chart.config,h=d.datasetAnimationScopeKeys(s._type,e),p=d.getOptionScopes(s.getDataset(),h);l=d.createResolver(p,s.getContext(t,i,e))}const u=new ho(o,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(u)),u}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||vi(t)||this.chart._animationsDisabled}updateElement(t,e,i,s){vi(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!vi(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this,i=e._data,s=e._cachedMeta.data;for(const[c,l,u]of e._syncList)e[c](l,u);e._syncList=[];const o=s.length,r=i.length,a=Math.min(r,o);a&&e.parse(0,a),r>o?e._insertElements(o,r-o,t):r<o&&e._removeElements(r,o-r)}_insertElements(t,e,i=!0){const s=this,o=s._cachedMeta,r=o.data,a=t+e;let c;const l=u=>{for(u.length+=e,c=u.length-1;c>=a;c--)u[c]=u[c-e]};for(l(r),c=t;c<a;++c)r[c]=new s.dataElementType;s._parsing&&l(o._parsed),s.parse(t,e),i&&s.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this,s=i._cachedMeta;if(i._parsing){const o=s._parsed.splice(t,e);s._stacked&&Ae(s,o)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){this._sync(["_removeElements",t,e]),this._sync(["_insertElements",t,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Tt.defaults={};Tt.prototype.datasetElementType=null;Tt.prototype.dataElementType=null;function Sl(n){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas("bar");let e=[];for(let i=0,s=t.length;i<s;i++)e=e.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=$s(e.sort((i,s)=>i-s))}return n._cache.$bar}function Tl(n){const t=Sl(n);let e=n._length,i,s,o,r;const a=()=>{o===32767||o===-32768||(ot(r)&&(e=Math.min(e,Math.abs(o-r)||e)),r=o)};for(i=0,s=t.length;i<s;++i)o=n.getPixelForValue(t[i]),a();for(r=void 0,i=0,s=n.ticks.length;i<s;++i)o=n.getPixelForTick(i),a();return e}function wl(n,t,e,i){const s=e.barThickness;let o,r;return V(s)?(o=t.min*e.categoryPercentage,r=e.barPercentage):(o=s*i,r=1),{chunk:o/i,ratio:r,start:t.pixels[n]-o/2}}function kl(n,t,e,i){const s=t.pixels,o=s[n];let r=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const c=e.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const l=o-(o-Math.min(r,a))/2*c;return{chunk:Math.abs(a-r)/2*c/i,ratio:e.barPercentage,start:l}}function Pl(n,t,e,i){const s=e.parse(n[0],i),o=e.parse(n[1],i),r=Math.min(s,o),a=Math.max(s,o);let c=r,l=a;Math.abs(r)>Math.abs(a)&&(c=a,l=r),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:s,end:o,min:r,max:a}}function vo(n,t,e,i){return H(n)?Pl(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Mo(n,t,e,i){const s=n.iScale,o=n.vScale,r=s.getLabels(),a=s===o,c=[];let l,u,d,h;for(l=e,u=e+i;l<u;++l)h=t[l],d={},d[s.axis]=a||s.parse(r[l],l),c.push(vo(h,d,o,l));return c}function Mi(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Ol(n,t,e){return n!==0?pt(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Cl(n){let t,e,i,s,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:i,reverse:t,top:s,bottom:o}}function El(n,t,e,i){let s=t.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}const{start:r,end:a,reverse:c,top:l,bottom:u}=Cl(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=l:(e._bottom||0)===i?s=u:(o[So(u,r,a,c)]=!0,s=l)),o[So(s,r,a,c)]=!0,n.borderSkipped=o}function So(n,t,e,i){return i?(n=Al(n,t,e),n=To(n,e,t)):n=To(n,t,e),n}function Al(n,t,e){return n===t?e:n===e?t:n}function To(n,t,e){return n==="start"?t:n==="end"?e:n}class Si extends Tt{parsePrimitiveData(t,e,i,s){return Mo(t,e,i,s)}parseArrayData(t,e,i,s){return Mo(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=o.axis==="x"?a:c,u=r.axis==="x"?a:c,d=[];let h,p,b,_;for(h=i,p=i+s;h<p;++h)_=e[h],b={},b[o.axis]=o.parse(Nt(_,l),h),d.push(vo(Nt(_,u),b,r,h));return d}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this,i=e._cachedMeta,{iScale:s,vScale:o}=i,r=e.getParsed(t),a=r._custom,c=Mi(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:c}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize();const e=t._cachedMeta;e.stack=t.getDataset().stack}update(t){const e=this,i=e._cachedMeta;e.updateElements(i.data,0,i.data.length,t)}updateElements(t,e,i,s){const o=this,r=s==="reset",{index:a,_cachedMeta:{vScale:c}}=o,l=c.getBasePixel(),u=c.isHorizontal(),d=o._getRuler(),h=o.resolveDataElementOptions(e,s),p=o.getSharedOptions(h),b=o.includeOptions(s,p);o.updateSharedOptions(p,s,h);for(let _=e;_<e+i;_++){const y=o.getParsed(_),v=r||V(y[c.axis])?{base:l,head:l}:o._calculateBarValuePixels(_),M=o._calculateBarIndexPixels(_,d),k=(y._stacks||{})[c.axis],T={horizontal:u,base:v.base,enableBorderRadius:!k||Mi(y._custom)||a===k._top||a===k._bottom,x:u?v.head:M.center,y:u?M.center:v.head,height:u?M.size:Math.abs(v.size),width:u?Math.abs(v.size):M.size};b&&(T.options=p||o.resolveDataElementOptions(_,t[_].active?"active":s)),El(T,T.options||t[_].options,k,a),o.updateElement(t[_],_,T,s)}}_getStacks(t,e){const i=this,o=i._cachedMeta.iScale,r=o.getMatchingVisibleMetas(i._type),a=o.options.stacked,c=r.length,l=[];let u,d;for(u=0;u<c;++u)if(d=r[u],!!d.controller.options.grouped){if(typeof e!="undefined"){const h=d.controller.getParsed(e)[d.controller._cachedMeta.vScale.axis];if(V(h)||isNaN(h))continue}if((a===!1||l.indexOf(d.stack)===-1||a===void 0&&d.stack===void 0)&&l.push(d.stack),d.index===t)break}return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this,e=t.options,i=t._cachedMeta,s=i.iScale,o=[];let r,a;for(r=0,a=i.data.length;r<a;++r)o.push(s.getPixelForValue(t.getParsed(r)[s.axis],r));const c=e.barThickness;return{min:c||Tl(s),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:t._getStackCount(),scale:s,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(t){const e=this,{_cachedMeta:{vScale:i,_stacked:s},options:{base:o,minBarLength:r}}=e,a=o||0,c=e.getParsed(t),l=c._custom,u=Mi(l);let d=c[i.axis],h=0,p=s?e.applyStack(i,c,s):d,b,_;p!==d&&(h=p-d,p=d),u&&(d=l.barStart,p=l.barEnd-l.barStart,d!==0&&pt(d)!==pt(l.barEnd)&&(h=0),h+=d);const y=!V(o)&&!u?o:h;let v=i.getPixelForValue(y);if(e.chart.getDataVisibility(t)?b=i.getPixelForValue(h+p):b=v,_=b-v,Math.abs(_)<r&&(_=Ol(_,i,a)*r,d===a&&(v-=_/2),b=v+_),v===i.getPixelForValue(a)){const M=pt(_)*i.getLineWidthForValue(a)/2;v+=M,_-=M}return{size:_,base:v,head:b,center:b+_/2}}_calculateBarIndexPixels(t,e){const i=this,s=e.scale,o=i.options,r=o.skipNull,a=z(o.maxBarThickness,1/0);let c,l;if(e.grouped){const u=r?i._getStackCount(t):e.stackCount,d=o.barThickness==="flex"?kl(t,e,o,u):wl(t,e,o,u),h=i._getStackIndex(i.index,i._cachedMeta.stack,r?t:void 0);c=d.start+d.chunk*h+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else c=s.getPixelForValue(i.getParsed(t)[s.axis],t),l=Math.min(a,e.min*e.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const t=this,e=t._cachedMeta,i=e.vScale,s=e.data,o=s.length;let r=0;for(;r<o;++r)t.getParsed(r)[i.axis]!==null&&s[r].draw(t._ctx)}}Si.id="bar";Si.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Si.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ti extends Tt{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,e,i,s){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=[];let u,d,h;for(u=i,d=i+s;u<d;++u)h=e[u],l.push({x:o.parse(Nt(h,a),u),y:r.parse(Nt(h,c),u),_custom:h&&h.r&&+h.r});return l}getMaxOverflow(){const{data:t,_parsed:e}=this._cachedMeta;let i=0;for(let s=t.length-1;s>=0;--s)i=Math.max(i,t[s].size()/2,e[s]._custom);return i>0&&i}getLabelAndValue(t){const e=this,i=e._cachedMeta,{xScale:s,yScale:o}=i,r=e.getParsed(t),a=s.getLabelForValue(r.x),c=o.getLabelForValue(r.y),l=r._custom;return{label:i.label,value:"("+a+", "+c+(l?", "+l:"")+")"}}update(t){const e=this,i=e._cachedMeta.data;e.updateElements(i,0,i.length,t)}updateElements(t,e,i,s){const o=this,r=s==="reset",{iScale:a,vScale:c}=o._cachedMeta,l=o.resolveDataElementOptions(e,s),u=o.getSharedOptions(l),d=o.includeOptions(s,u),h=a.axis,p=c.axis;for(let b=e;b<e+i;b++){const _=t[b],y=!r&&o.getParsed(b),v={},M=v[h]=r?a.getPixelForDecimal(.5):a.getPixelForValue(y[h]),k=v[p]=r?c.getBasePixel():c.getPixelForValue(y[p]);v.skip=isNaN(M)||isNaN(k),d&&(v.options=o.resolveDataElementOptions(b,_.active?"active":s),r&&(v.options.radius=0)),o.updateElement(_,b,v,s)}o.updateSharedOptions(u,s,l)}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=z(i&&i._custom,o),s}}Ti.id="bubble";Ti.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Ti.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function Dl(n,t,e){let i=1,s=1,o=0,r=0;if(t<W){const a=n,c=a+t,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),h=Math.sin(c),p=(k,T,w)=>cn(k,a,c,!0)?1:Math.max(T,T*e,w,w*e),b=(k,T,w)=>cn(k,a,c,!0)?-1:Math.min(T,T*e,w,w*e),_=p(0,l,d),y=p(Y,u,h),v=b(X,l,d),M=b(X+Y,u,h);i=(_-v)/2,s=(y-M)/2,o=-(_+v)/2,r=-(y+M)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:r}}class De extends Tt{constructor(t,e){super(t,e);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;let o,r;for(o=t,r=t+e;o<r;++o)s._parsed[o]=+i[o]}_getRotation(){return _t(this.options.rotation-90)}_getCircumference(){return _t(this.options.circumference)}_getRotationExtents(){let t=W,e=-W;const i=this;for(let s=0;s<i.chart.data.datasets.length;++s)if(i.chart.isDatasetVisible(s)){const o=i.chart.getDatasetMeta(s).controller,r=o._getRotation(),a=o._getCircumference();t=Math.min(t,r),e=Math.max(e,r+a)}return{rotation:t,circumference:e-t}}update(t){const e=this,i=e.chart,{chartArea:s}=i,o=e._cachedMeta,r=o.data,a=e.getMaxBorderWidth()+e.getMaxOffset(r)+e.options.spacing,c=Math.max((Math.min(s.width,s.height)-a)/2,0),l=Math.min(Ea(e.options.cutout,c),1),u=e._getRingWeight(e.index),{circumference:d,rotation:h}=e._getRotationExtents(),{ratioX:p,ratioY:b,offsetX:_,offsetY:y}=Dl(h,d,l),v=(s.width-a)/p,M=(s.height-a)/b,k=Math.max(Math.min(v,M)/2,0),T=ti(e.options.radius,k),w=Math.max(T*l,0),O=(T-w)/e._getVisibleDatasetWeightTotal();e.offsetX=_*T,e.offsetY=y*T,o.total=e.calculateTotal(),e.outerRadius=T-O*e._getRingWeightOffset(e.index),e.innerRadius=Math.max(e.outerRadius-O*u,0),e.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this,s=i.options,o=i._cachedMeta,r=i._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:i.calculateCircumference(o._parsed[t]*r/W)}updateElements(t,e,i,s){const o=this,r=s==="reset",a=o.chart,c=a.chartArea,u=a.options.animation,d=(c.left+c.right)/2,h=(c.top+c.bottom)/2,p=r&&u.animateScale,b=p?0:o.innerRadius,_=p?0:o.outerRadius,y=o.resolveDataElementOptions(e,s),v=o.getSharedOptions(y),M=o.includeOptions(s,v);let k=o._getRotation(),T;for(T=0;T<e;++T)k+=o._circumference(T,r);for(T=e;T<e+i;++T){const w=o._circumference(T,r),O=t[T],C={x:d+o.offsetX,y:h+o.offsetY,startAngle:k,endAngle:k+w,circumference:w,outerRadius:_,innerRadius:b};M&&(C.options=v||o.resolveDataElementOptions(T,O.active?"active":s)),k+=w,o.updateElement(O,T,C,s)}o.updateSharedOptions(v,s,y)}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?W*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=e.chart,o=s.data.labels||[],r=Ee(i._parsed[t],s.options.locale);return{label:o[t]||"",value:r}}getMaxBorderWidth(t){const e=this;let i=0;const s=e.chart;let o,r,a,c,l;if(!t){for(o=0,r=s.data.datasets.length;o<r;++o)if(s.isDatasetVisible(o)){a=s.getDatasetMeta(o),t=a.data,c=a.controller,c!==e&&c.configure();break}}if(!t)return 0;for(o=0,r=t.length;o<r;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}De.id="doughnut";De.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};De.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};De.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,s)=>{const r=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let t=n.label;const e=": "+n.formattedValue;return H(t)?(t=t.slice(),t[0]+=e):t+=e,t}}}}};class vn extends Tt{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,i=e._cachedMeta,{dataset:s,data:o=[],_dataset:r}=i,a=e.chart._animationsDisabled;let{start:c,count:l}=Rl(i,o,a);e._drawStart=c,e._drawCount=l,Ll(i)&&(c=0,l=o.length),s._datasetIndex=e.index,s._decimated=!!r._decimated,s.points=o;const u=e.resolveDatasetElementOptions(t);e.options.showLine||(u.borderWidth=0),u.segment=e.options.segment,e.updateElement(s,void 0,{animated:!a,options:u},t),e.updateElements(o,c,l,t)}updateElements(t,e,i,s){const o=this,r=s==="reset",{iScale:a,vScale:c,_stacked:l}=o._cachedMeta,u=o.resolveDataElementOptions(e,s),d=o.getSharedOptions(u),h=o.includeOptions(s,d),p=a.axis,b=c.axis,_=o.options.spanGaps,y=se(_)?_:Number.POSITIVE_INFINITY,v=o.chart._animationsDisabled||r||s==="none";let M=e>0&&o.getParsed(e-1);for(let k=e;k<e+i;++k){const T=t[k],w=o.getParsed(k),O=v?T:{},C=V(w[b]),A=O[p]=a.getPixelForValue(w[p],k),D=O[b]=r||C?c.getBasePixel():c.getPixelForValue(l?o.applyStack(c,w,l):w[b],k);O.skip=isNaN(A)||isNaN(D)||C,O.stop=k>0&&w[p]-M[p]>y,O.parsed=w,h&&(O.options=d||o.resolveDataElementOptions(k,T.active?"active":s)),v||o.updateElement(T,k,O,s),M=w}o.updateSharedOptions(d,s,u)}getMaxOverflow(){const t=this,e=t._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return s;const r=o[0].size(t.resolveDataElementOptions(0)),a=o[o.length-1].size(t.resolveDataElementOptions(o.length-1));return Math.max(s,r,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}vn.id="line";vn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};vn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function Rl(n,t,e){const i=t.length;let s=0,o=i;if(n._sorted){const{iScale:r,_parsed:a}=n,c=r.axis,{min:l,max:u,minDefined:d,maxDefined:h}=r.getUserBounds();d&&(s=tt(Math.min(qt(a,r.axis,l).lo,e?i:qt(t,c,r.getPixelForValue(l)).lo),0,i-1)),h?o=tt(Math.max(qt(a,r.axis,u).hi+1,e?0:qt(t,c,r.getPixelForValue(u)).hi+1),s,i)-s:o=i-s}return{start:s,count:o}}function Ll(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),o}class wi extends Tt{constructor(t,e){super(t,e);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this,i=e._cachedMeta,s=e.chart,o=s.data.labels||[],r=Ee(i._parsed[t].r,s.options.locale);return{label:o[t]||"",value:r}}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){const t=this,e=t.chart,i=e.chartArea,s=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(o/2,0),a=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),c=(r-a)/e.getVisibleDatasetCount();t.outerRadius=r-c*t.index,t.innerRadius=t.outerRadius-c}updateElements(t,e,i,s){const o=this,r=s==="reset",a=o.chart,c=o.getDataset(),u=a.options.animation,d=o._cachedMeta.rScale,h=d.xCenter,p=d.yCenter,b=d.getIndexAngle(0)-.5*X;let _=b,y;const v=360/o.countVisibleElements();for(y=0;y<e;++y)_+=o._computeAngle(y,s,v);for(y=e;y<e+i;y++){const M=t[y];let k=_,T=_+o._computeAngle(y,s,v),w=a.getDataVisibility(y)?d.getDistanceFromCenterForValue(c.data[y]):0;_=T,r&&(u.animateScale&&(w=0),u.animateRotate&&(k=T=b));const O={x:h,y:p,innerRadius:0,outerRadius:w,startAngle:k,endAngle:T,options:o.resolveDataElementOptions(y,M.active?"active":s)};o.updateElement(M,y,O,s)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let i=0;return e.data.forEach((s,o)=>{!isNaN(t.data[o])&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?_t(this.resolveDataElementOptions(t,e).angle||i):0}}wi.id="polarArea";wi.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};wi.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const t=n.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=n.legend.options;return t.labels.map((i,s)=>{const r=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:e,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class wo extends De{}wo.id="pie";wo.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class ki extends Tt{getLabelAndValue(t){const e=this,i=e._cachedMeta.vScale,s=e.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(s[i.axis])}}update(t){const e=this,i=e._cachedMeta,s=i.dataset,o=i.data||[],r=i.iScale.getLabels();if(s.points=o,t!=="resize"){const a=e.resolveDatasetElementOptions(t);e.options.showLine||(a.borderWidth=0);const c={_loop:!0,_fullLoop:r.length===o.length,options:a};e.updateElement(s,void 0,c,t)}e.updateElements(o,0,o.length,t)}updateElements(t,e,i,s){const o=this,r=o.getDataset(),a=o._cachedMeta.rScale,c=s==="reset";for(let l=e;l<e+i;l++){const u=t[l],d=o.resolveDataElementOptions(l,u.active?"active":s),h=a.getPointPositionForValue(l,r.data[l]),p=c?a.xCenter:h.x,b=c?a.yCenter:h.y,_={x:p,y:b,angle:h.angle,skip:isNaN(p)||isNaN(b),options:d};o.updateElement(u,l,_,s)}}}ki.id="radar";ki.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};ki.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Pi extends vn{}Pi.id="scatter";Pi.defaults={showLine:!1,fill:!1};Pi.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Zt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oi{constructor(t){this.options=t||{}}formats(){return Zt()}parse(t,e){return Zt()}format(t,e){return Zt()}add(t,e,i){return Zt()}diff(t,e,i){return Zt()}startOf(t,e,i){return Zt()}endOf(t,e){return Zt()}}Oi.override=function(n){Object.assign(Oi.prototype,n)};var Il={_date:Oi};function Re(n,t){return"native"in n?{x:n.x,y:n.y}:io(n,t)}function Fl(n,t){const e=n.getSortedVisibleDatasetMetas();let i,s,o;for(let r=0,a=e.length;r<a;++r){({index:i,data:s}=e[r]);for(let c=0,l=s.length;c<l;++c)o=s[c],o.skip||t(o,i,c)}}function zl(n,t,e,i){const{controller:s,data:o,_sorted:r}=n,a=s._cachedMeta.iScale;if(a&&t===a.axis&&r&&o.length){const c=a._reversePixels?yc:qt;if(i){if(s._sharedOptions){const l=o[0],u=typeof l.getRange=="function"&&l.getRange(t);if(u){const d=c(o,t,e-u),h=c(o,t,e+u);return{lo:d.lo,hi:h.hi}}}}else return c(o,t,e)}return{lo:0,hi:o.length-1}}function ko(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),r=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:u}=o[a],{lo:d,hi:h}=zl(o[a],t,r,s);for(let p=d;p<=h;++p){const b=u[p];b.skip||i(b,l,p)}}}function Nl(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,r=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Ci(n,t,e,i){const s=[];return $t(t,n.chartArea,n._minPadding)&&ko(n,e,t,function(r,a,c){r.inRange(t.x,t.y,i)&&s.push({element:r,datasetIndex:a,index:c})},!0),s}function Ei(n,t,e,i,s){const o=Nl(e);let r=Number.POSITIVE_INFINITY,a=[];return $t(t,n.chartArea,n._minPadding)&&ko(n,e,t,function(l,u,d){if(i&&!l.inRange(t.x,t.y,s))return;const h=l.getCenterPoint(s);if(!$t(h,n.chartArea,n._minPadding)&&!l.inRange(t.x,t.y,s))return;const p=o(t,h);p<r?(a=[{element:l,datasetIndex:u,index:d}],r=p):p===r&&a.push({element:l,datasetIndex:u,index:d})}),a}function Po(n,t,e,i){const s=Re(t,n),o=[],r=e.axis,a=r==="x"?"inXRange":"inYRange";let c=!1;return Fl(n,(l,u,d)=>{l[a](s[r],i)&&o.push({element:l,datasetIndex:u,index:d}),l.inRange(s.x,s.y,i)&&(c=!0)}),e.intersect&&!c?[]:o}var Bl={modes:{index(n,t,e,i){const s=Re(t,n),o=e.axis||"x",r=e.intersect?Ci(n,s,o,i):Ei(n,s,o,!1,i),a=[];return r.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const l=r[0].index,u=c.data[l];u&&!u.skip&&a.push({element:u,datasetIndex:c.index,index:l})}),a):[]},dataset(n,t,e,i){const s=Re(t,n),o=e.axis||"xy";let r=e.intersect?Ci(n,s,o,i):Ei(n,s,o,!1,i);if(r.length>0){const a=r[0].datasetIndex,c=n.getDatasetMeta(a).data;r=[];for(let l=0;l<c.length;++l)r.push({element:c[l],datasetIndex:a,index:l})}return r},point(n,t,e,i){const s=Re(t,n),o=e.axis||"xy";return Ci(n,s,o,i)},nearest(n,t,e,i){const s=Re(t,n),o=e.axis||"xy";return Ei(n,s,o,e.intersect,i)},x(n,t,e,i){return e.axis="x",Po(n,t,e,i)},y(n,t,e,i){return e.axis="y",Po(n,t,e,i)}}};const Oo=["left","top","right","bottom"];function Le(n,t){return n.filter(e=>e.pos===t)}function Co(n,t){return n.filter(e=>Oo.indexOf(e.pos)===-1&&e.box.axis===t)}function Ie(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function Vl(n){const t=[];let e,i,s,o,r,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:r,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}function Wl(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!Oo.includes(s))continue;const r=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function Hl(n,t){const e=Wl(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,r,a;for(o=0,r=n.length;o<r;++o){a=n[o];const{fullSize:c}=a.box,l=e[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*i:c&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:c&&t.availableHeight)}return e}function jl(n){const t=Vl(n),e=Ie(t.filter(l=>l.box.fullSize),!0),i=Ie(Le(t,"left"),!0),s=Ie(Le(t,"right")),o=Ie(Le(t,"top"),!0),r=Ie(Le(t,"bottom")),a=Co(t,"x"),c=Co(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(c).concat(r).concat(a),chartArea:Le(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:o.concat(r).concat(a)}}function Eo(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Ao(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Yl(n,t,e,i){const{pos:s,box:o}=e,r=n.maxPadding;if(!B(s)){e.size&&(n[s]-=e.size);const d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?o.height:o.width),e.size=d.size/d.count,n[s]+=e.size}o.getPadding&&Ao(r,o.getPadding());const a=Math.max(0,t.outerWidth-Eo(r,n,"left","right")),c=Math.max(0,t.outerHeight-Eo(r,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:u}:{same:u,other:l}}function Ul(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Xl(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(t[r],e[r])}),o}return i(n?["left","right"]:["top","bottom"])}function Fe(n,t,e,i){const s=[];let o,r,a,c,l,u;for(o=0,r=n.length,l=0;o<r;++o){a=n[o],c=a.box,c.update(a.width||t.w,a.height||t.h,Xl(a.horizontal,t));const{same:d,other:h}=Yl(t,e,a,i);l|=d&&s.length,u=u||h,c.fullSize||s.push(a)}return l&&Fe(s,t,e,i)||u}function Mn(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function Do(n,t,e,i){const s=e.padding;let{x:o,y:r}=t;for(const a of n){const c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const d=t.w*u,h=l.size||c.height;ot(l.start)&&(r=l.start),c.fullSize?Mn(c,s.left,r,e.outerWidth-s.right-s.left,h):Mn(c,t.left+l.placed,r,d,h),l.start=r,l.placed+=d,r=c.bottom}else{const d=t.h*u,h=l.size||c.width;ot(l.start)&&(o=l.start),c.fullSize?Mn(c,o,s.top,h,e.outerHeight-s.bottom-s.top):Mn(c,o,t.top+l.placed,h,d),l.start=o,l.placed+=d,o=c.right}}t.x=o,t.y=r}N.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Sn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=xt(n.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(e-s.height,0),a=jl(n.boxes),c=a.vertical,l=a.horizontal;I(n.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=c.reduce((_,y)=>y.box.options&&y.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},s);Ao(h,xt(i));const p=Object.assign({maxPadding:h,w:o,h:r,x:s.left,y:s.top},s),b=Hl(c.concat(l),d);Fe(a.fullSize,p,d,b),Fe(c,p,d,b),Fe(l,p,d,b)&&Fe(c,p,d,b),Ul(p),Do(a.leftAndTop,p,d,b),p.x+=p.w,p.y+=p.h,Do(a.rightAndBottom,p,d,b),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},I(a.chartArea,_=>{const y=_.box;Object.assign(y,n.chartArea),y.update(p.w,p.h)})}};class Ro{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}}class $l extends Ro{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const Tn="$chartjs",ql={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lo=n=>n===null||n==="";function Gl(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Tn]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Lo(s)){const o=oo(n,"width");o!==void 0&&(n.width=o)}if(Lo(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=oo(n,"height");o!==void 0&&(n.height=o)}return n}const Io=Uc?{passive:!0}:!1;function Kl(n,t,e){n.addEventListener(t,e,Io)}function Zl(n,t,e){n.canvas.removeEventListener(t,e,Io)}function Ql(n,t){const e=ql[n.type]||n.type,{x:i,y:s}=io(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Jl(n,t,e){const i=n.canvas,o=i&&ae(i)||i,r=new MutationObserver(a=>{const c=ae(o);a.forEach(l=>{for(let u=0;u<l.addedNodes.length;u++){const d=l.addedNodes[u];(d===o||d===c)&&e(l.target)}})});return r.observe(document,{childList:!0,subtree:!0}),r}function tu(n,t,e){const i=n.canvas,s=i&&ae(i);if(!s)return;const o=new MutationObserver(r=>{r.forEach(a=>{for(let c=0;c<a.removedNodes.length;c++)if(a.removedNodes[c]===i){e();break}})});return o.observe(s,{childList:!0}),o}const ze=new Map;let Fo=0;function zo(){const n=window.devicePixelRatio;n!==Fo&&(Fo=n,ze.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function eu(n,t){ze.size||window.addEventListener("resize",zo),ze.set(n,t)}function nu(n){ze.delete(n),ze.size||window.removeEventListener("resize",zo)}function iu(n,t,e){const i=n.canvas,s=i&&ae(i);if(!s)return;const o=ys((a,c)=>{const l=s.clientWidth;e(a,c),l<s.clientWidth&&e()},window),r=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||o(l,u)});return r.observe(s),eu(n,o),r}function Ai(n,t,e){e&&e.disconnect(),t==="resize"&&nu(n)}function su(n,t,e){const i=n.canvas,s=ys(o=>{n.ctx!==null&&e(Ql(o,n))},n,o=>{const r=o[0];return[r,r.offsetX,r.offsetY]});return Kl(i,t,s),s}class ou extends Ro{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Gl(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Tn])return!1;const i=e[Tn].initial;["height","width"].forEach(o=>{const r=i[o];V(r)?e.removeAttribute(o):e.setAttribute(o,r)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[Tn],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),r={attach:Jl,detach:tu,resize:iu}[e]||su;s[e]=r(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Ai,detach:Ai,resize:Ai}[e]||Zl)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return Yc(t,e,i,s)}isAttached(t){const e=ae(t);return!!(e&&e.isConnected)}}function ru(n){return!no()||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas?$l:ou}class Rt{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return se(this.x)&&se(this.y)}getProps(t,e){const i=this,s=this.$animations;if(!e||!s)return i;const o={};return t.forEach(r=>{o[r]=s[r]&&s[r].active()?s[r]._to:i[r]}),o}}Rt.defaults={};Rt.defaultRoutes=void 0;const No={values(n){return H(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),o=au(n,e)}const r=gt(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Ee(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";const i=n/Math.pow(10,Math.floor(gt(n)));return i===1||i===2||i===5?No.numeric.call(this,n,t,e):""}};function au(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var wn={formatters:No};N.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:wn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});N.route("scale.ticks","color","","color");N.route("scale.grid","color","","borderColor");N.route("scale.grid","borderColor","","borderColor");N.route("scale.title","color","","color");N.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});N.describe("scales",{_fallback:"scale"});N.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function cu(n,t){const e=n.options.ticks,i=e.maxTicksLimit||lu(n),s=e.major.enabled?du(t):[],o=s.length,r=s[0],a=s[o-1],c=[];if(o>i)return fu(t,c,s,o/i),c;const l=uu(s,t,i);if(o>0){let u,d;const h=o>1?Math.round((a-r)/(o-1)):null;for(kn(t,c,l,V(h)?0:r-h,r),u=0,d=o-1;u<d;u++)kn(t,c,l,s[u],s[u+1]);return kn(t,c,l,a,V(h)?t.length:a+h),c}return kn(t,c,l),c}function lu(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function uu(n,t,e){const i=hu(n),s=t.length/e;if(!i)return Math.max(s,1);const o=Na(i);for(let r=0,a=o.length-1;r<a;r++){const c=o[r];if(c>s)return c}return Math.max(s,1)}function du(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function fu(n,t,e,i){let s=0,o=e[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===o&&(t.push(n[r]),s++,o=e[s*i])}function kn(n,t,e,i,s){const o=z(i,0),r=Math.min(z(s,n.length),n.length);let a=0,c,l,u;for(e=Math.ceil(e),s&&(c=s-i,e=c/Math.floor(c/e)),u=o;u<0;)a++,u=Math.round(o+a*e);for(l=Math.max(o,0);l<r;l++)l===u&&(t.push(n[l]),a++,u=Math.round(o+a*e))}function hu(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const gu=n=>n==="left"?"right":n==="right"?"left":n,Bo=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e;function Vo(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function pu(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,r=n._endPixel,a=1e-6;let c=n.getPixelForTick(s),l;if(!(e&&(i===1?l=Math.max(c-o,r-c):t===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<o-a||c>r+a)))return c}function mu(n,t){I(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function Ne(n){return n.drawTicks?n.tickLength:0}function Wo(n,t){if(!n.display)return 0;const e=lt(n.font,t),i=xt(n.padding);return(H(n.text)?n.text.length:1)*e.lineHeight+i.height}function bu(n,t){return Object.assign(Object.create(n),{scale:t,type:"scale"})}function _u(n,t,e){return Object.assign(Object.create(n),{tick:e,index:t,type:"tick"})}function xu(n,t,e){let i=Oa(n);return(e&&t!=="right"||!e&&t==="right")&&(i=gu(i)),i}function yu(n,t,e,i){const{top:s,left:o,bottom:r,right:a,chart:c}=n,{chartArea:l,scales:u}=c;let d=0,h,p,b;const _=r-s,y=a-o;if(n.isHorizontal()){if(p=vs(i,o,a),B(e)){const v=Object.keys(e)[0],M=e[v];b=u[v].getPixelForValue(M)+_-t}else e==="center"?b=(l.bottom+l.top)/2+_-t:b=Bo(n,e,t);h=a-o}else{if(B(e)){const v=Object.keys(e)[0],M=e[v];p=u[v].getPixelForValue(M)-y+t}else e==="center"?p=(l.left+l.right)/2-y+t:p=Bo(n,e,t);b=vs(i,r,s),d=e==="left"?-Y:Y}return{titleX:p,titleY:b,maxWidth:h,rotation:d}}class Qt extends Rt{constructor(t){super();this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){const e=this;e.options=t.setContext(e.getContext()),e.axis=t.axis,e._userMin=e.parse(t.min),e._userMax=e.parse(t.max),e._suggestedMin=e.parse(t.suggestedMin),e._suggestedMax=e.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=ht(t,Number.POSITIVE_INFINITY),e=ht(e,Number.NEGATIVE_INFINITY),i=ht(i,Number.POSITIVE_INFINITY),s=ht(s,Number.NEGATIVE_INFINITY),{min:ht(t,i),max:ht(e,s),minDefined:J(t),maxDefined:J(e)}}getMinMax(t){const e=this;let{min:i,max:s,minDefined:o,maxDefined:r}=e.getUserBounds(),a;if(o&&r)return{min:i,max:s};const c=e.getMatchingVisibleMetas();for(let l=0,u=c.length;l<u;++l)a=c[l].controller.getMinMax(e,t),o||(i=Math.min(i,a.min)),r||(s=Math.max(s,a.max));return{min:ht(i,ht(s,i)),max:ht(s,ht(i,s))}}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){R(this.options.beforeUpdate,[this])}update(t,e,i){const s=this,o=s.options.ticks,r=o.sampleSize;s.beforeUpdate(),s.maxWidth=t,s.maxHeight=e,s._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),s.ticks=null,s._labelSizes=null,s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s._maxLength=s.isHorizontal()?s.width+i.left+i.right:s.height+i.top+i.bottom,s._dataLimitsCached||(s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s._range=xc(s,s.options.grace),s._dataLimitsCached=!0),s.beforeBuildTicks(),s.ticks=s.buildTicks()||[],s.afterBuildTicks();const a=r<s.ticks.length;s._convertTicksToLabels(a?Vo(s.ticks,r):s.ticks),s.configure(),s.beforeCalculateLabelRotation(),s.calculateLabelRotation(),s.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(s.ticks=cu(s,s.ticks),s._labelSizes=null),a&&s._convertTicksToLabels(s.ticks),s.beforeFit(),s.fit(),s.afterFit(),s.afterUpdate()}configure(){const t=this;let e=t.options.reverse,i,s;t.isHorizontal()?(i=t.left,s=t.right):(i=t.top,s=t.bottom,e=!e),t._startPixel=i,t._endPixel=s,t._reversePixels=e,t._length=s-i,t._alignToPixels=t.options.alignToPixels}afterUpdate(){R(this.options.afterUpdate,[this])}beforeSetDimensions(){R(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){R(this.options.afterSetDimensions,[this])}_callHooks(t){const e=this;e.chart.notifyPlugins(t,e.getContext()),R(e.options[t],[e])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){R(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,i=e.options.ticks;let s,o,r;for(s=0,o=t.length;s<o;s++)r=t[s],r.label=R(i.callback,[r.value,s,t],e)}afterTickToLabelConversion(){R(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){R(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,i=e.ticks,s=t.ticks.length,o=i.minRotation||0,r=i.maxRotation;let a=o,c,l,u;if(!t._isVisible()||!i.display||o>=r||s<=1||!t.isHorizontal()){t.labelRotation=o;return}const d=t._getLabelSizes(),h=d.widest.width,p=d.highest.height,b=tt(t.chart.width-h,0,t.maxWidth);c=e.offset?t.maxWidth/s:b/(s-1),h+6>c&&(c=b/(s-(e.offset?.5:1)),l=t.maxHeight-Ne(e.grid)-i.padding-Wo(e.title,t.chart.options.font),u=Math.sqrt(h*h+p*p),a=ni(Math.min(Math.asin(tt((d.highest.height+6)/c,-1,1)),Math.asin(tt(l/u,-1,1))-Math.asin(tt(p/u,-1,1)))),a=Math.max(o,Math.min(r,a))),t.labelRotation=a}afterCalculateLabelRotation(){R(this.options.afterCalculateLabelRotation,[this])}beforeFit(){R(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},{chart:i,options:{ticks:s,title:o,grid:r}}=t,a=t._isVisible(),c=t.isHorizontal();if(a){const l=Wo(o,i.options.font);if(c?(e.width=t.maxWidth,e.height=Ne(r)+l):(e.height=t.maxHeight,e.width=Ne(r)+l),s.display&&t.ticks.length){const{first:u,last:d,widest:h,highest:p}=t._getLabelSizes(),b=s.padding*2,_=_t(t.labelRotation),y=Math.cos(_),v=Math.sin(_);if(c){const M=s.mirror?0:v*h.width+y*p.height;e.height=Math.min(t.maxHeight,e.height+M+b)}else{const M=s.mirror?0:y*h.width+v*p.height;e.width=Math.min(t.maxWidth,e.width+M+b)}t._calculatePadding(u,d,v,y)}}t._handleMargins(),c?(t.width=t._length=i.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t._margins.top-t._margins.bottom)}_calculatePadding(t,e,i,s){const o=this,{ticks:{align:r,padding:a},position:c}=o.options,l=o.labelRotation!==0,u=c!=="top"&&o.axis==="x";if(o.isHorizontal()){const d=o.getPixelForTick(0)-o.left,h=o.right-o.getPixelForTick(o.ticks.length-1);let p=0,b=0;l?u?(p=s*t.width,b=i*e.height):(p=i*t.height,b=s*e.width):r==="start"?b=e.width:r==="end"?p=t.width:(p=t.width/2,b=e.width/2),o.paddingLeft=Math.max((p-d+a)*o.width/(o.width-d),0),o.paddingRight=Math.max((b-h+a)*o.width/(o.width-h),0)}else{let d=e.height/2,h=t.height/2;r==="start"?(d=0,h=t.height):r==="end"&&(d=e.height,h=0),o.paddingTop=d+a,o.paddingBottom=h+a}}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){R(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){const e=this;e.beforeTickToLabelConversion(),e.generateTickLabels(t);let i,s;for(i=0,s=t.length;i<s;i++)V(t[i].label)&&(t.splice(i,1),s--,i--);e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;if(!e){const i=t.options.ticks.sampleSize;let s=t.ticks;i<s.length&&(s=Vo(s,i)),t._labelSizes=e=t._computeLabelSizes(s,s.length)}return e}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:s}=this,o=[],r=[];let a=0,c=0,l,u,d,h,p,b,_,y,v,M,k;for(l=0;l<e;++l){if(h=t[l].label,p=this._resolveTickFontOptions(l),i.font=b=p.string,_=s[b]=s[b]||{data:{},gc:[]},y=p.lineHeight,v=M=0,!V(h)&&!H(h))v=pn(i,_.data,_.gc,v,h),M=y;else if(H(h))for(u=0,d=h.length;u<d;++u)k=h[u],!V(k)&&!H(k)&&(v=pn(i,_.data,_.gc,v,k),M+=y);o.push(v),r.push(M),a=Math.max(v,a),c=Math.max(M,c)}mu(s,e);const T=o.indexOf(a),w=r.indexOf(c),O=C=>({width:o[C]||0,height:r[C]||0});return{first:O(0),last:O(e-1),widest:O(T),highest:O(w),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;e._reversePixels&&(t=1-t);const i=e._startPixel+t*e._length;return Ha(e._alignToPixels?Xt(e.chart,i,0):i)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this,i=e.ticks||[];if(t>=0&&t<i.length){const s=i[t];return s.$context||(s.$context=_u(e.getContext(),t,s))}return e.$context||(e.$context=bu(e.chart.getContext(),e))}_tickSize(){const t=this,e=t.options.ticks,i=_t(t.labelRotation),s=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),r=t._getLabelSizes(),a=e.autoSkipPadding||0,c=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return t.isHorizontal()?l*s>c*o?c/s:l/o:l*o<c*s?l/s:c/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,i=e.axis,s=e.chart,o=e.options,{grid:r,position:a}=o,c=r.offset,l=e.isHorizontal(),d=e.ticks.length+(c?1:0),h=Ne(r),p=[],b=r.setContext(e.getContext()),_=b.drawBorder?b.borderWidth:0,y=_/2,v=function(E){return Xt(s,E,_)};let M,k,T,w,O,C,A,D,$,F,q,j;if(a==="top")M=v(e.bottom),C=e.bottom-h,D=M-y,F=v(t.top)+y,j=t.bottom;else if(a==="bottom")M=v(e.top),F=t.top,j=v(t.bottom)-y,C=M+y,D=e.top+h;else if(a==="left")M=v(e.right),O=e.right-h,A=M-y,$=v(t.left)+y,q=t.right;else if(a==="right")M=v(e.left),$=t.left,q=v(t.right)-y,O=M+y,A=e.left+h;else if(i==="x"){if(a==="center")M=v((t.top+t.bottom)/2+.5);else if(B(a)){const E=Object.keys(a)[0],K=a[E];M=v(e.chart.scales[E].getPixelForValue(K))}F=t.top,j=t.bottom,C=M+y,D=C+h}else if(i==="y"){if(a==="center")M=v((t.left+t.right)/2);else if(B(a)){const E=Object.keys(a)[0],K=a[E];M=v(e.chart.scales[E].getPixelForValue(K))}O=M-y,A=O-h,$=t.left,q=t.right}const it=z(o.ticks.maxTicksLimit,d),ct=Math.max(1,Math.ceil(d/it));for(k=0;k<d;k+=ct){const E=r.setContext(e.getContext(k)),K=E.lineWidth,kt=E.color,Ft=r.borderDash||[],ue=E.borderDashOffset,te=E.tickWidth,ut=E.tickColor,Wt=E.tickBorderDash||[],Pt=E.tickBorderDashOffset;T=pu(e,k,c),T!==void 0&&(w=Xt(s,T,K),l?O=A=$=q=w:C=D=F=j=w,p.push({tx1:O,ty1:C,tx2:A,ty2:D,x1:$,y1:F,x2:q,y2:j,width:K,color:kt,borderDash:Ft,borderDashOffset:ue,tickWidth:te,tickColor:ut,tickBorderDash:Wt,tickBorderDashOffset:Pt}))}return e._ticksLength=d,e._borderValue=M,p}_computeLabelItems(t){const e=this,i=e.axis,s=e.options,{position:o,ticks:r}=s,a=e.isHorizontal(),c=e.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=r,p=Ne(s.grid),b=p+d,_=h?-d:b,y=-_t(e.labelRotation),v=[];let M,k,T,w,O,C,A,D,$,F,q,j,it="middle";if(o==="top")C=e.bottom-_,A=e._getXAxisLabelAlignment();else if(o==="bottom")C=e.top+_,A=e._getXAxisLabelAlignment();else if(o==="left"){const E=e._getYAxisLabelAlignment(p);A=E.textAlign,O=E.x}else if(o==="right"){const E=e._getYAxisLabelAlignment(p);A=E.textAlign,O=E.x}else if(i==="x"){if(o==="center")C=(t.top+t.bottom)/2+b;else if(B(o)){const E=Object.keys(o)[0],K=o[E];C=e.chart.scales[E].getPixelForValue(K)+b}A=e._getXAxisLabelAlignment()}else if(i==="y"){if(o==="center")O=(t.left+t.right)/2-b;else if(B(o)){const E=Object.keys(o)[0],K=o[E];O=e.chart.scales[E].getPixelForValue(K)}A=e._getYAxisLabelAlignment(p).textAlign}i==="y"&&(l==="start"?it="top":l==="end"&&(it="bottom"));const ct=e._getLabelSizes();for(M=0,k=c.length;M<k;++M){T=c[M],w=T.label;const E=r.setContext(e.getContext(M));D=e.getPixelForTick(M)+r.labelOffset,$=e._resolveTickFontOptions(M),F=$.lineHeight,q=H(w)?w.length:1;const K=q/2,kt=E.color,Ft=E.textStrokeColor,ue=E.textStrokeWidth;a?(O=D,o==="top"?u==="near"||y!==0?j=-q*F+F/2:u==="center"?j=-ct.highest.height/2-K*F+F:j=-ct.highest.height+F/2:u==="near"||y!==0?j=F/2:u==="center"?j=ct.highest.height/2-K*F:j=ct.highest.height-q*F,h&&(j*=-1)):(C=D,j=(1-q)*F/2);let te;if(E.showLabelBackdrop){const ut=xt(E.backdropPadding),Wt=ct.heights[M],Pt=ct.widths[M];let de=C+j-ut.top,fe=O-ut.left;switch(it){case"middle":de-=Wt/2;break;case"bottom":de-=Wt;break}switch(A){case"center":fe-=Pt/2;break;case"right":fe-=Pt;break}te={left:fe,top:de,width:Pt+ut.width,height:Wt+ut.height,color:E.backdropColor}}v.push({rotation:y,label:w,font:$,color:kt,strokeColor:Ft,strokeWidth:ue,textOffset:j,textAlign:A,textBaseline:it,translation:[O,C],backdrop:te})}return v}_getXAxisLabelAlignment(){const t=this,{position:e,ticks:i}=t.options;if(-_t(t.labelRotation))return e==="top"?"left":"right";let o="center";return i.align==="start"?o="left":i.align==="end"&&(o="right"),o}_getYAxisLabelAlignment(t){const e=this,{position:i,ticks:{crossAlign:s,mirror:o,padding:r}}=e.options,a=e._getLabelSizes(),c=t+r,l=a.widest.width;let u,d;return i==="left"?o?(d=e.right+r,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=e.right-c,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=e.left)):i==="right"?o?(d=e.left+r,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=e.left+c,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=e.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){const t=this;if(t.options.ticks.mirror)return;const e=t.chart,i=t.options.position;if(i==="left"||i==="right")return{top:0,left:t.left,bottom:e.height,right:t.right};if(i==="top"||i==="bottom")return{top:t.top,left:0,bottom:t.bottom,right:e.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,r),t.restore())}getLineWidthForValue(t){const e=this,i=e.options.grid;if(!e._isVisible()||!i.display)return 0;const o=e.ticks.findIndex(r=>r.value===t);return o>=0?i.setContext(e.getContext(o)).lineWidth:0}drawGrid(t){const e=this,i=e.options.grid,s=e.ctx,o=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let r,a;const c=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(i.display)for(r=0,a=o.length;r<a;++r){const l=o[r];i.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const t=this,{chart:e,ctx:i,options:{grid:s}}=t,o=s.setContext(t.getContext()),r=s.drawBorder?o.borderWidth:0;if(!r)return;const a=s.setContext(t.getContext(0)).lineWidth,c=t._borderValue;let l,u,d,h;t.isHorizontal()?(l=Xt(e,t.left,r)-r/2,u=Xt(e,t.right,a)+a/2,d=h=c):(d=Xt(e,t.top,r)-r/2,h=Xt(e,t.bottom,a)+a/2,l=u=c),i.save(),i.lineWidth=o.borderWidth,i.strokeStyle=o.borderColor,i.beginPath(),i.moveTo(l,d),i.lineTo(u,h),i.stroke(),i.restore()}drawLabels(t){const e=this;if(!e.options.ticks.display)return;const s=e.ctx,o=e._computeLabelArea();o&&Ws(s,o);const r=e._labelItems||(e._labelItems=e._computeLabelItems(t));let a,c;for(a=0,c=r.length;a<c;++a){const l=r[a],u=l.font,d=l.label;l.backdrop&&(s.fillStyle=l.backdrop.color,s.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;mn(s,d,0,h,u,l)}o&&Hs(s)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=lt(i.font),r=xt(i.padding),a=i.align;let c=o.lineHeight/2;e==="bottom"||e==="center"||B(e)?(c+=r.bottom,H(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=r.top;const{titleX:l,titleY:u,maxWidth:d,rotation:h}=yu(this,c,e,a);mn(t,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:h,textAlign:xu(a,e,s),textBaseline:"middle",translation:[l,u]})}draw(t){const e=this;!e._isVisible()||(e.drawBackground(),e.drawGrid(t),e.drawBorder(),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,i=e.ticks&&e.ticks.z||0,s=z(e.grid&&e.grid.z,-1);return!t._isVisible()||t.draw!==Qt.prototype.draw?[{z:i,draw(o){t.draw(o)}}]:[{z:s,draw(o){t.drawBackground(),t.drawGrid(o),t.drawTitle()}},{z:s+1,draw(){t.drawBorder()}},{z:i,draw(o){t.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this,i=e.chart.getSortedVisibleDatasetMetas(),s=e.axis+"AxisID",o=[];let r,a;for(r=0,a=i.length;r<a;++r){const c=i[r];c[s]===e.id&&(!t||c.type===t)&&o.push(c)}return o}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return lt(e.font)}_maxDigits(){const t=this,e=t._resolveTickFontOptions(0).lineHeight;return(t.isHorizontal()?t.width:t.height)/e}}class Pn{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=this,i=Object.getPrototypeOf(t);let s;Su(i)&&(s=e.register(i));const o=e.items,r=t.id,a=e.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,vu(t,a,s),e.override&&N.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in N[s]&&(delete N[s][i],this.override&&delete Ut[i])}}function vu(n,t,e){const i=ve(Object.create(null),[e?N.get(e):{},N.get(t),n.defaults]);N.set(t,i),n.defaultRoutes&&Mu(t,n.defaultRoutes),n.descriptors&&N.describe(t,n.descriptors)}function Mu(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),r=t[e].split("."),a=r.pop(),c=r.join(".");N.route(o,s,c,a)})}function Su(n){return"id"in n&&"defaults"in n}class Tu{constructor(){this.controllers=new Pn(Tt,"datasets",!0),this.elements=new Pn(Rt,"elements"),this.plugins=new Pn(Object,"plugins"),this.scales=new Pn(Qt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){const s=this;[...e].forEach(o=>{const r=i||s._getRegistryForType(o);i||r.isForType(o)||r===s.plugins&&o.id?s._exec(t,r,o):I(o,a=>{const c=i||s._getRegistryForType(a);s._exec(t,c,a)})})}_exec(t,e,i){const s=ei(t);R(i["before"+s],[],i),e[t](i),R(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Lt=new Tu;class wu{constructor(){this._init=[]}notify(t,e,i,s){const o=this;e==="beforeInit"&&(o._init=o._createDescriptors(t,!0),o._notify(o._init,t,"install"));const r=s?o._descriptors(t).filter(s):o._descriptors(t),a=o._notify(r,t,e,i);return e==="destroy"&&(o._notify(r,t,"stop"),o._notify(o._init,t,"uninstall")),a}_notify(t,e,i,s){s=s||{};for(const o of t){const r=o.plugin,a=r[i],c=[e,s,o.options];if(R(a,c,r)===!1&&s.cancelable)return!1}return!0}invalidate(){V(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=z(i.options&&i.options.plugins,{}),o=ku(i);return s===!1&&!e?[]:Ou(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,r)=>o.filter(a=>!r.some(c=>a.plugin.id===c.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function ku(n){const t=[],e=Object.keys(Lt.plugins.items);for(let s=0;s<e.length;s++)t.push(Lt.getPlugin(e[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&t.push(o)}return t}function Pu(n,t){return!t&&n===!1?null:n===!0?{}:n}function Ou(n,t,e,i){const s=[],o=n.getContext();for(let r=0;r<t.length;r++){const a=t[r],c=a.id,l=Pu(e[c],i);l!==null&&s.push({plugin:a,options:Cu(n.config,a,l,o)})}return s}function Cu(n,t,e,i){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(e,s);return n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Di(n,t){const e=N.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Eu(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Au(n,t){return n===t?"_index_":"_value_"}function Du(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ri(n,t){return n==="x"||n==="y"?n:t.axis||Du(t.position)||n.charAt(0).toLowerCase()}function Ru(n,t){const e=Ut[n.type]||{scales:{}},i=t.scales||{},s=Di(n.type,t),o=Object.create(null),r=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a],l=Ri(a,c),u=Au(l,s),d=e.scales||{};o[l]=o[l]||a,r[a]=Me(Object.create(null),[{axis:l},c,d[l],d[u]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,l=a.indexAxis||Di(c,t),d=(Ut[c]||{}).scales||{};Object.keys(d).forEach(h=>{const p=Eu(h,l),b=a[p+"AxisID"]||o[p]||p;r[b]=r[b]||Object.create(null),Me(r[b],[{axis:p},i[b],d[h]])})}),Object.keys(r).forEach(a=>{const c=r[a];Me(c,[N.scales[c.type],N.scale])}),r}function Ho(n){const t=n.options||(n.options={});t.plugins=z(t.plugins,{}),t.scales=Ru(n,t)}function jo(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Lu(n){return n=n||{},n.data=jo(n.data),Ho(n),n}const Yo=new Map,Uo=new Set;function On(n,t){let e=Yo.get(n);return e||(e=t(),Yo.set(n,e),Uo.add(e)),e}const Be=(n,t,e)=>{const i=Nt(t,e);i!==void 0&&n.add(i)};class Iu{constructor(t){this._config=Lu(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ho(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return On(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return On(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return On(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return On(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,r=this._cachedScopes(t,i),a=r.get(e);if(a)return a;const c=new Set;e.forEach(u=>{t&&(c.add(t),u.forEach(d=>Be(c,t,d))),u.forEach(d=>Be(c,s,d)),u.forEach(d=>Be(c,Ut[o]||{},d)),u.forEach(d=>Be(c,N,d)),u.forEach(d=>Be(c,ui,d))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Uo.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ut[e]||{},N.datasets[e]||{},{type:e},N,ui]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Xo(this._resolverCache,t,s);let c=r;if(Fu(r,e)){o.$shared=!1,i=ie(i)?i():i;const l=this.createResolver(t,i,a);c=oe(r,i,l)}for(const l of e)o[l]=c[l];return o}createResolver(t,e,i=[""],s){const{resolver:o}=Xo(this._resolverCache,t,i);return B(e)?oe(o,e,void 0,s):o}}function Xo(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:mi(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,o)),o}function Fu(n,t){const{isScriptable:e,isIndexable:i}=qs(n);for(const s of t)if(e(s)&&ie(n[s])||i(s)&&H(n[s]))return!0;return!1}var zu="3.5.1";const Nu=["top","bottom","left","right","chartArea"];function $o(n,t){return n==="top"||n==="bottom"||Nu.indexOf(n)===-1&&t==="x"}function qo(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Go(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),R(e&&e.onComplete,[n],t)}function Bu(n){const t=n.chart,e=t.options.animation;R(e&&e.onProgress,[n],t)}function Ko(n){return no()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Cn={},Zo=n=>{const t=Ko(n);return Object.values(Cn).filter(e=>e.canvas===t).pop()};class Qo{constructor(t,e){const i=this,s=this.config=new Iu(e),o=Ko(t),r=Zo(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const a=s.createResolver(s.chartOptionScopes(),i.getContext());this.platform=new(s.platform||ru(o));const c=i.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=Ca(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pa(()=>this.update("resize"),a.resizeDelay||0),Cn[i.id]=i,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Dt.listen(i,"complete",Go),Dt.listen(i,"progress",Bu),i._initialize(),i.attached&&i.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return V(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){const t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():so(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}clear(){return Vs(this.canvas,this.ctx),this}stop(){return Dt.stop(this),this}resize(t,e){Dt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this,s=i.options,o=i.canvas,r=s.maintainAspectRatio&&i.aspectRatio,a=i.platform.getMaximumSize(o,t,e,r),c=s.devicePixelRatio||i.platform.getDevicePixelRatio();i.width=a.width,i.height=a.height,i._aspectRatio=i.aspectRatio,!!so(i,c,!0)&&(i.notifyPlugins("resize",{size:a}),R(s.onResize,[i,a],i),i.attached&&i._doResize()&&i.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};I(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this,e=t.options,i=e.scales,s=t.scales,o=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{});let r=[];i&&(r=r.concat(Object.keys(i).map(a=>{const c=i[a],l=Ri(a,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),I(r,a=>{const c=a.options,l=c.id,u=Ri(l,c),d=z(c.type,a.dtype);(c.position===void 0||$o(c.position,u)!==$o(a.dposition))&&(c.position=a.dposition),o[l]=!0;let h=null;if(l in s&&s[l].type===d)h=s[l];else{const p=Lt.getScale(d);h=new p({id:l,type:d,ctx:t.ctx,chart:t}),s[h.id]=h}h.init(c,e)}),I(o,(a,c)=>{a||delete s[c]}),I(s,a=>{Sn.configure(t,a,a.options),Sn.addBox(t,a)})}_updateMetasets(){const t=this,e=t._metasets,i=t.data.datasets.length,s=e.length;if(e.sort((o,r)=>o.index-r.index),s>i){for(let o=i;o<s;++o)t._destroyDatasetMeta(o);e.splice(i,s-i)}t._sortedMetasets=e.slice(0).sort(qo("order","index"))}_removeUnreferencedMetasets(){const t=this,{_metasets:e,data:{datasets:i}}=t;e.length>i.length&&delete t._stacks,e.forEach((s,o)=>{i.filter(r=>r===s._dataset).length===0&&t._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=this,e=[],i=t.data.datasets;let s,o;for(t._removeUnreferencedMetasets(),s=0,o=i.length;s<o;s++){const r=i[s];let a=t.getDatasetMeta(s);const c=r.type||t.config.type;if(a.type&&a.type!==c&&(t._destroyDatasetMeta(s),a=t.getDatasetMeta(s)),a.type=c,a.indexAxis=r.indexAxis||Di(c,t.options),a.order=r.order||0,a.index=s,a.label=""+r.label,a.visible=t.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const l=Lt.getController(c),{datasetElementType:u,dataElementType:d}=N.datasets[c];Object.assign(l.prototype,{dataElementType:Lt.getElement(d),datasetElementType:u&&Lt.getElement(u)}),a.controller=new l(t,s),e.push(a.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;I(t.data.datasets,(e,i)=>{t.getDatasetMeta(i).controller.reset()},t)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this,i=e.config;i.update(),e._options=i.createResolver(i.chartOptionScopes(),e.getContext()),I(e.scales,l=>{Sn.removeBox(e,l)});const s=e._animationsDisabled=!e.options.animation;e.ensureScalesHaveIDs(),e.buildOrUpdateScales();const o=new Set(Object.keys(e._listeners)),r=new Set(e.options.events);if((!Ia(o,r)||!!this._responsiveListeners!==e.options.responsive)&&(e.unbindEvents(),e.bindEvents()),e._plugins.invalidate(),e.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=e.buildOrUpdateControllers();e.notifyPlugins("beforeElementsUpdate");let c=0;for(let l=0,u=e.data.datasets.length;l<u;l++){const{controller:d}=e.getDatasetMeta(l),h=!s&&a.indexOf(d)===-1;d.buildOrUpdateElements(h),c=Math.max(+d.getMaxOverflow(),c)}e._minPadding=c,e._updateLayout(c),s||I(a,l=>{l.reset()}),e._updateDatasets(t),e.notifyPlugins("afterUpdate",{mode:t}),e._layers.sort(qo("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render()}_updateLayout(t){const e=this;if(e.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Sn.update(e,e.width,e.height,t);const i=e.chartArea,s=i.width<=0||i.height<=0;e._layers=[],I(e.boxes,o=>{s&&o.position==="chartArea"||(o.configure&&o.configure(),e._layers.push(...o._layers()))},e),e._layers.forEach((o,r)=>{o._idx=r}),e.notifyPlugins("afterLayout")}_updateDatasets(t){const e=this,i=typeof t=="function";if(e.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,o=e.data.datasets.length;s<o;++s)e._updateDataset(s,i?t({datasetIndex:s}):t);e.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this,s=i.getDatasetMeta(t),o={meta:s,index:t,mode:e,cancelable:!0};i.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(s.controller._update(e),o.cancelable=!1,i.notifyPlugins("afterDatasetUpdate",o))}render(){const t=this;t.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dt.has(t)?t.attached&&!Dt.running(t)&&Dt.start(t):(t.draw(),Go({chart:t})))}draw(){const t=this;let e;if(t._resizeBeforeDraw){const{width:s,height:o}=t._resizeBeforeDraw;t._resize(s,o),t._resizeBeforeDraw=null}if(t.clear(),t.width<=0||t.height<=0||t.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=t._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(t.chartArea);for(t._drawDatasets();e<i.length;++e)i[e].draw(t.chartArea);t.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,s=[];let o,r;for(o=0,r=i.length;o<r;++o){const a=i[o];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(t.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=t.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)t._drawDataset(e[i]);t.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this,i=e.ctx,s=t._clip,o=!s.disabled,r=e.chartArea,a={meta:t,index:t.index,cancelable:!0};e.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Ws(i,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?e.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?e.height:r.bottom+s.bottom}),t.controller.draw(),o&&Hs(i),a.cancelable=!1,e.notifyPlugins("afterDatasetDraw",a))}getElementsAtEventForMode(t,e,i,s){const o=Bl.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this,i=e.data.datasets[t],s=e._metasets;let o=s.filter(r=>r&&r._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=this,o=i?"show":"hide",r=s.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,o);ot(e)?(r.data[e].hidden=!i,s.update()):(s.setDatasetVisibility(t,i),a.update(r,{visible:i}),s.update(c=>c.datasetIndex===t?o:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this,i=e._metasets&&e._metasets[t];i&&i.controller&&(i.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,{canvas:e,ctx:i}=t;let s,o;for(t.stop(),Dt.remove(t),s=0,o=t.data.datasets.length;s<o;++s)t._destroyDatasetMeta(s);t.config.clearCache(),e&&(t.unbindEvents(),Vs(e,i),t.platform.releaseContext(i),t.canvas=null,t.ctx=null),t.notifyPlugins("destroy"),delete Cn[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this,e=t._listeners,i=t.platform,s=(r,a)=>{i.addEventListener(t,r,a),e[r]=a},o=function(r,a,c){r.offsetX=a,r.offsetY=c,t._eventHandler(r)};I(t.options.events,r=>s(r,o))}bindResponsiveEvents(){const t=this;t._responsiveListeners||(t._responsiveListeners={});const e=t._responsiveListeners,i=t.platform,s=(l,u)=>{i.addEventListener(t,l,u),e[l]=u},o=(l,u)=>{e[l]&&(i.removeEventListener(t,l,u),delete e[l])},r=(l,u)=>{t.canvas&&t.resize(l,u)};let a;const c=()=>{o("attach",c),t.attached=!0,t.resize(),s("resize",r),s("detach",a)};a=()=>{t.attached=!1,o("resize",r),s("attach",c)},i.isAttached(t.canvas)?c():a()}unbindEvents(){const t=this;I(t._listeners,(e,i)=>{t.platform.removeEventListener(t,i,e)}),t._listeners={},I(t._responsiveListeners,(e,i)=>{t.platform.removeEventListener(t,i,e)}),t._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,r,a,c;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){r=t[a];const l=r&&this.getDatasetMeta(r.datasetIndex).controller;l&&l[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this,i=e._active||[],s=t.map(({datasetIndex:r,index:a})=>{const c=e.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[a],index:a}});!on(s,i)&&(e._active=s,e._updateHoverStyles(s,i))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const s=this,o=s.options.hover,r=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=r(e,t),c=i?t:r(t,e);a.length&&s.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&s.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,e){const i=this,s={event:t,replay:e,cancelable:!0},o=a=>(a.options.events||this.options.events).includes(t.type);if(i.notifyPlugins("beforeEvent",s,o)===!1)return;const r=i._handleEvent(t,e);return s.cancelable=!1,i.notifyPlugins("afterEvent",s,o),(r||s.changed)&&i.render(),i}_handleEvent(t,e){const i=this,{_active:s=[],options:o}=i,r=o.hover,a=e;let c=[],l=!1,u=null;return t.type!=="mouseout"&&(c=i.getElementsAtEventForMode(t,r.mode,r,a),u=t.type==="click"?i._lastEvent:t),i._lastEvent=null,$t(t,i.chartArea,i._minPadding)&&(R(o.onHover,[t,c,i],i),(t.type==="mouseup"||t.type==="click"||t.type==="contextmenu")&&R(o.onClick,[t,c,i],i)),l=!on(c,s),(l||e)&&(i._active=c,i._updateHoverStyles(c,s,e)),i._lastEvent=u,l}}const Jo=()=>I(Qo.instances,n=>n._plugins.invalidate()),Bt=!0;Object.defineProperties(Qo,{defaults:{enumerable:Bt,value:N},instances:{enumerable:Bt,value:Cn},overrides:{enumerable:Bt,value:Ut},registry:{enumerable:Bt,value:Lt},version:{enumerable:Bt,value:zu},getChart:{enumerable:Bt,value:Zo},register:{enumerable:Bt,value:(...n)=>{Lt.add(...n),Jo()}},unregister:{enumerable:Bt,value:(...n)=>{Lt.remove(...n),Jo()}}});function tr(n,t,e){const{startAngle:i,pixelMargin:s,x:o,y:r,outerRadius:a,innerRadius:c}=t;let l=s/a;n.beginPath(),n.arc(o,r,a,i-l,e+l),c>s?(l=s/c,n.arc(o,r,c,e+l,i-l,!0)):n.arc(o,r,s,e+Y,i-Y),n.closePath(),n.clip()}function Vu(n){return gi(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Wu(n,t,e,i){const s=Vu(n.options.borderRadius),o=(e-t)/2,r=Math.min(o,i*t/2),a=c=>{const l=(e-Math.min(o,c))*i/2;return tt(c,0,Math.min(o,l))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:tt(s.innerStart,0,r),innerEnd:tt(s.innerEnd,0,r)}}function ce(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Li(n,t,e,i,s){const{x:o,y:r,startAngle:a,pixelMargin:c,innerRadius:l}=t,u=Math.max(t.outerRadius+i+e-c,0),d=l>0?l+i+e+c:0;let h=0;const p=s-a;if(i){const E=l>0?l-i:0,K=u>0?u-i:0,kt=(E+K)/2,Ft=kt!==0?p*kt/(kt+i):p;h=(p-Ft)/2}const b=Math.max(.001,p*u-e/X)/u,_=(p-b)/2,y=a+_+h,v=s-_-h,{outerStart:M,outerEnd:k,innerStart:T,innerEnd:w}=Wu(t,d,u,v-y),O=u-M,C=u-k,A=y+M/O,D=v-k/C,$=d+T,F=d+w,q=y+T/$,j=v-w/F;if(n.beginPath(),n.arc(o,r,u,A,D),k>0){const E=ce(C,D,o,r);n.arc(E.x,E.y,k,D,v+Y)}const it=ce(F,v,o,r);if(n.lineTo(it.x,it.y),w>0){const E=ce(F,j,o,r);n.arc(E.x,E.y,w,v+Y,j+Math.PI)}if(n.arc(o,r,d,v-w/d,y+T/d,!0),T>0){const E=ce($,q,o,r);n.arc(E.x,E.y,T,q+Math.PI,y-Y)}const ct=ce(O,y,o,r);if(n.lineTo(ct.x,ct.y),M>0){const E=ce(O,A,o,r);n.arc(E.x,E.y,M,y-Y,A)}n.closePath()}function Hu(n,t,e,i){const{fullCircles:s,startAngle:o,circumference:r}=t;let a=t.endAngle;if(s){Li(n,t,e,i,o+W);for(let c=0;c<s;++c)n.fill();isNaN(r)||(a=o+r%W,r%W==0&&(a+=W))}return Li(n,t,e,i,a),n.fill(),a}function ju(n,t,e){const{x:i,y:s,startAngle:o,pixelMargin:r,fullCircles:a}=t,c=Math.max(t.outerRadius-r,0),l=t.innerRadius+r;let u;for(e&&tr(n,t,o+W),n.beginPath(),n.arc(i,s,l,o+W,o,!0),u=0;u<a;++u)n.stroke();for(n.beginPath(),n.arc(i,s,c,o,o+W),u=0;u<a;++u)n.stroke()}function Yu(n,t,e,i,s){const{options:o}=t,r=o.borderAlign==="inner";!o.borderWidth||(r?(n.lineWidth=o.borderWidth*2,n.lineJoin="round"):(n.lineWidth=o.borderWidth,n.lineJoin="bevel"),t.fullCircles&&ju(n,t,r),r&&tr(n,t,s),Li(n,t,e,i,s),n.stroke())}class Ii extends Rt{constructor(t){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:o,distance:r}=Va(s,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=this.options.spacing/2,p=d>=W||cn(o,a,c),b=r>=l+h&&r<=u+h;return p&&b}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:c,spacing:l}=this.options,u=(s+o)/2,d=(r+a+l+c)/2;return{x:e+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,{options:i,circumference:s}=e,o=(i.offset||0)/2,r=(i.spacing||0)/2;if(e.pixelMargin=i.borderAlign==="inner"?.33:0,e.fullCircles=s>W?Math.floor(s/W):0,s===0||e.innerRadius<0||e.outerRadius<0)return;t.save();let a=0;if(o){a=o/2;const l=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(l)*a,Math.sin(l)*a),e.circumference>=X&&(a=o)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor;const c=Hu(t,e,a,r);Yu(t,e,a,r,c),t.restore()}}Ii.id="arc";Ii.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Ii.defaultRoutes={backgroundColor:"backgroundColor"};function er(n,t,e=t){n.lineCap=z(e.borderCapStyle,t.borderCapStyle),n.setLineDash(z(e.borderDash,t.borderDash)),n.lineDashOffset=z(e.borderDashOffset,t.borderDashOffset),n.lineJoin=z(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=z(e.borderWidth,t.borderWidth),n.strokeStyle=z(e.borderColor,t.borderColor)}function Uu(n,t,e){n.lineTo(e.x,e.y)}function Xu(n){return n.stepped?dc:n.tension||n.cubicInterpolationMode==="monotone"?fc:Uu}function nr(n,t,e={}){const i=n.length,{start:s=0,end:o=i-1}=e,{start:r,end:a}=t,c=Math.max(s,r),l=Math.min(o,a),u=s<r&&o<r||s>a&&o>a;return{count:i,start:c,loop:t.loop,ilen:l<c&&!u?i+l-c:l-c}}function $u(n,t,e,i){const{points:s,options:o}=t,{count:r,start:a,loop:c,ilen:l}=nr(s,e,i),u=Xu(o);let{move:d=!0,reverse:h}=i||{},p,b,_;for(p=0;p<=l;++p)b=s[(a+(h?l-p:p))%r],!b.skip&&(d?(n.moveTo(b.x,b.y),d=!1):u(n,_,b,h,o.stepped),_=b);return c&&(b=s[(a+(h?l:0))%r],u(n,_,b,h,o.stepped)),!!c}function qu(n,t,e,i){const s=t.points,{count:o,start:r,ilen:a}=nr(s,e,i),{move:c=!0,reverse:l}=i||{};let u=0,d=0,h,p,b,_,y,v;const M=T=>(r+(l?a-T:T))%o,k=()=>{_!==y&&(n.lineTo(u,y),n.lineTo(u,_),n.lineTo(u,v))};for(c&&(p=s[M(0)],n.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=s[M(h)],p.skip)continue;const T=p.x,w=p.y,O=T|0;O===b?(w<_?_=w:w>y&&(y=w),u=(d*u+T)/++d):(k(),n.lineTo(T,w),b=O,d=0,_=y=w),v=w}k()}function Fi(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?qu:$u}function Gu(n){return n.stepped?Xc:n.tension||n.cubicInterpolationMode==="monotone"?$c:Kt}function Ku(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),er(n,t.options),n.stroke(s)}function Zu(n,t,e,i){const{segments:s,options:o}=t,r=Fi(t);for(const a of s)er(n,o,a.style),n.beginPath(),r(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const Qu=typeof Path2D=="function";function Ju(n,t,e,i){Qu&&t.segments.length===1?Ku(n,t,e,i):Zu(n,t,e,i)}class En extends Rt{constructor(t){super();this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this,s=i.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!i._pointsUpdated){const o=s.spanGaps?i._loop:i._fullLoop;Nc(i._points,s,t,o,e),i._pointsUpdated=!0}}set points(t){const e=this;e._points=t,delete e._segments,delete e._path,e._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sl(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this,s=i.options,o=t[e],r=i.points,a=el(i,{property:e,start:o,end:o});if(!a.length)return;const c=[],l=Gu(s);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:p}=a[u],b=r[h],_=r[p];if(b===_){c.push(b);continue}const y=Math.abs((o-b[e])/(_[e]-b[e])),v=l(b,_,y,s.stepped);v[e]=t[e],c.push(v)}return c.length===1?c[0]:c}pathSegment(t,e,i){return Fi(this)(t,this,e,i)}path(t,e,i){const s=this,o=s.segments,r=Fi(s);let a=s._loop;e=e||0,i=i||s.points.length-e;for(const c of o)a&=r(t,s,c,{start:e,end:e+i-1});return!!a}draw(t,e,i,s){const o=this,r=o.options||{};!(o.points||[]).length||!r.borderWidth||(t.save(),Ju(t,o,i,s),t.restore(),o.animated&&(o._pointsUpdated=!1,o._path=void 0))}}En.id="line";En.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};En.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};En.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function ir(n,t,e,i){const s=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<s.radius+s.hitRadius}class zi extends Rt{constructor(t){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:o,y:r}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return ir(this,t,"x",e)}inYRange(t,e){return ir(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this,s=i.options;i.skip||s.radius<.1||!$t(i,e,i.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,fi(t,s,i.x,i.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}zi.id="point";zi.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};zi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function sr(n,t){const{x:e,y:i,base:s,width:o,height:r}=n.getProps(["x","y","base","width","height"],t);let a,c,l,u,d;return n.horizontal?(d=r/2,a=Math.min(e,s),c=Math.max(e,s),l=i-d,u=i+d):(d=o/2,a=e-d,c=e+d,l=Math.min(i,s),u=Math.max(i,s)),{left:a,top:l,right:c,bottom:u}}function Vt(n,t,e,i){return n?0:tt(t,e,i)}function td(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=js(i);return{t:Vt(s.top,o.top,0,e),r:Vt(s.right,o.right,0,t),b:Vt(s.bottom,o.bottom,0,e),l:Vt(s.left,o.left,0,t)}}function ed(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=Ys(s),r=Math.min(t,e),a=n.borderSkipped,c=i||B(s);return{topLeft:Vt(!c||a.top||a.left,o.topLeft,0,r),topRight:Vt(!c||a.top||a.right,o.topRight,0,r),bottomLeft:Vt(!c||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Vt(!c||a.bottom||a.right,o.bottomRight,0,r)}}function nd(n){const t=sr(n),e=t.right-t.left,i=t.bottom-t.top,s=td(n,e/2,i/2),o=ed(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Ni(n,t,e,i){const s=t===null,o=e===null,a=n&&!(s&&o)&&sr(n,i);return a&&(s||t>=a.left&&t<=a.right)&&(o||e>=a.top&&e<=a.bottom)}function id(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function sd(n,t){n.rect(t.x,t.y,t.w,t.h)}function Bi(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,r=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+r,radius:n.radius}}class Vi extends Rt{constructor(t){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:i,outer:s}=nd(this),o=id(s.radius)?hi:sd,r=.33;t.save(),(s.w!==i.w||s.h!==i.h)&&(t.beginPath(),o(t,Bi(s,r,i)),t.clip(),o(t,Bi(i,-r,s)),t.fillStyle=e.borderColor,t.fill("evenodd")),t.beginPath(),o(t,Bi(i,r,s)),t.fillStyle=e.backgroundColor,t.fill(),t.restore()}inRange(t,e,i){return Ni(this,t,e,i)}inXRange(t,e){return Ni(this,t,null,e)}inYRange(t,e){return Ni(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Vi.id="bar";Vi.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0};Vi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const An={average(n){if(!n.length)return!1;let t,e,i=0,s=0,o=0;for(t=0,e=n.length;t<e;++t){const r=n[t].element;if(r&&r.hasValue()){const a=r.tooltipPosition();i+=a.x,s+=a.y,++o}}return{x:i/o,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=n.length;o<r;++o){const c=n[o].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),u=ii(t,l);u<s&&(s=u,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function wt(n,t){return t&&(H(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function It(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function od(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:r,value:a}=o.getLabelAndValue(s);return{chart:n,label:r,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function or(n,t){const e=n._chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:r,boxHeight:a}=t,c=lt(t.bodyFont),l=lt(t.titleFont),u=lt(t.footerFont),d=o.length,h=s.length,p=i.length,b=xt(t.padding);let _=b.height,y=0,v=i.reduce((T,w)=>T+w.before.length+w.lines.length+w.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,d&&(_+=d*l.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){const T=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;_+=p*T+(v-p)*c.lineHeight+(v-1)*t.bodySpacing}h&&(_+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let M=0;const k=function(T){y=Math.max(y,e.measureText(T).width+M)};return e.save(),e.font=l.string,I(n.title,k),e.font=c.string,I(n.beforeBody.concat(n.afterBody),k),M=t.displayColors?r+2:0,I(i,T=>{I(T.before,k),I(T.lines,k),I(T.after,k)}),M=0,e.font=u.string,I(n.footer,k),e.restore(),y+=b.width,{width:y,height:_}}function rd(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function ad(n,t,e,i){const{x:s,width:o}=i,r=e.caretSize+e.caretPadding;if(n==="left"&&s+o+r>t.width||n==="right"&&s-o-r<0)return!0}function cd(n,t,e,i){const{x:s,width:o}=e,{width:r,chartArea:{left:a,right:c}}=n;let l="center";return i==="center"?l=s<=(a+c)/2?"left":"right":s<=o/2?l="left":s>=r-o/2&&(l="right"),ad(l,n,t,e)&&(l="center"),l}function rr(n,t,e){const i=t.yAlign||rd(n,e);return{xAlign:t.xAlign||cd(n,t,e,i),yAlign:i}}function ld(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function ud(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function ar(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:r}=n,{xAlign:a,yAlign:c}=e,l=s+o,u=r+o;let d=ld(t,a);const h=ud(t,c,l);return c==="center"?a==="left"?d+=l:a==="right"&&(d-=l):a==="left"?d-=u:a==="right"&&(d+=u),{x:tt(d,0,i.width-t.width),y:tt(h,0,i.height-t.height)}}function Dn(n,t,e){const i=xt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function cr(n){return wt([],It(n))}function dd(n,t,e){return Object.assign(Object.create(n),{tooltip:t,tooltipItems:e,type:"tooltip"})}function lr(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}class fd extends Rt{constructor(t){super();this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this,e=t._cachedAnimations;if(e)return e;const i=t._chart,s=t.options.setContext(t.getContext()),o=s.enabled&&i.options.animation&&s.animations,r=new ho(t._chart,o);return o._cacheable&&(t._cachedAnimations=Object.freeze(r)),r}getContext(){const t=this;return t.$context||(t.$context=dd(t._chart.getContext(),t,t._tooltipItems))}getTitle(t,e){const i=this,{callbacks:s}=e,o=s.beforeTitle.apply(i,[t]),r=s.title.apply(i,[t]),a=s.afterTitle.apply(i,[t]);let c=[];return c=wt(c,It(o)),c=wt(c,It(r)),c=wt(c,It(a)),c}getBeforeBody(t,e){return cr(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const i=this,{callbacks:s}=e,o=[];return I(t,r=>{const a={before:[],lines:[],after:[]},c=lr(s,r);wt(a.before,It(c.beforeLabel.call(i,r))),wt(a.lines,c.label.call(i,r)),wt(a.after,It(c.afterLabel.call(i,r))),o.push(a)}),o}getAfterBody(t,e){return cr(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const i=this,{callbacks:s}=e,o=s.beforeFooter.apply(i,[t]),r=s.footer.apply(i,[t]),a=s.afterFooter.apply(i,[t]);let c=[];return c=wt(c,It(o)),c=wt(c,It(r)),c=wt(c,It(a)),c}_createItems(t){const e=this,i=e._active,s=e._chart.data,o=[],r=[],a=[];let c=[],l,u;for(l=0,u=i.length;l<u;++l)c.push(od(e._chart,i[l]));return t.filter&&(c=c.filter((d,h,p)=>t.filter(d,h,p,s))),t.itemSort&&(c=c.sort((d,h)=>t.itemSort(d,h,s))),I(c,d=>{const h=lr(t.callbacks,d);o.push(h.labelColor.call(e,d)),r.push(h.labelPointStyle.call(e,d)),a.push(h.labelTextColor.call(e,d))}),e.labelColors=o,e.labelPointStyles=r,e.labelTextColors=a,e.dataPoints=c,c}update(t,e){const i=this,s=i.options.setContext(i.getContext()),o=i._active;let r,a=[];if(!o.length)i.opacity!==0&&(r={opacity:0});else{const c=An[s.position].call(i,o,i._eventPosition);a=i._createItems(s),i.title=i.getTitle(a,s),i.beforeBody=i.getBeforeBody(a,s),i.body=i.getBody(a,s),i.afterBody=i.getAfterBody(a,s),i.footer=i.getFooter(a,s);const l=i._size=or(i,s),u=Object.assign({},c,l),d=rr(i._chart,s,u),h=ar(s,u,d,i._chart);i.xAlign=d.xAlign,i.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}i._tooltipItems=a,i.$context=void 0,r&&i._resolveAnimations().update(i,r),t&&s.external&&s.external.call(i,{chart:i._chart,tooltip:i,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{cornerRadius:r,caretSize:a}=i,{x:c,y:l}=t,{width:u,height:d}=e;let h,p,b,_,y,v;return o==="center"?(y=l+d/2,s==="left"?(h=c,p=h-a,_=y+a,v=y-a):(h=c+u,p=h+a,_=y-a,v=y+a),b=h):(s==="left"?p=c+r+a:s==="right"?p=c+u-r-a:p=this.caretX,o==="top"?(_=l,y=_-a,h=p-a,b=p+a):(_=l+d,y=_+a,h=p+a,b=p-a),v=_),{x1:h,x2:p,x3:b,y1:_,y2:y,y3:v}}drawTitle(t,e,i){const s=this,o=s.title,r=o.length;let a,c,l;if(r){const u=xi(i.rtl,s.x,s.width);for(t.x=Dn(s,i.titleAlign,i),e.textAlign=u.textAlign(i.titleAlign),e.textBaseline="middle",a=lt(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,l=0;l<r;++l)e.fillText(o[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===r&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,s,o){const r=this,a=r.labelColors[i],c=r.labelPointStyles[i],{boxHeight:l,boxWidth:u}=o,d=lt(o.bodyFont),h=Dn(r,"left",o),p=s.x(h),b=l<d.lineHeight?(d.lineHeight-l)/2:0,_=e.y+b;if(o.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=s.leftForLtr(p,u)+u/2,M=_+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,fi(t,y,v,M),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,fi(t,y,v,M)}else{t.lineWidth=a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(p,u),v=s.leftForLtr(s.xPlus(p,1),u-2),M=Ys(a.borderRadius);Object.values(M).some(k=>k!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,hi(t,{x:y,y:_,w:u,h:l,radius:M}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),hi(t,{x:v,y:_+1,w:u-2,h:l-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(y,_,u,l),t.strokeRect(y,_,u,l),t.fillStyle=a.backgroundColor,t.fillRect(v,_+1,u-2,l-2))}t.fillStyle=r.labelTextColors[i]}drawBody(t,e,i){const s=this,{body:o}=s,{bodySpacing:r,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u}=i,d=lt(i.bodyFont);let h=d.lineHeight,p=0;const b=xi(i.rtl,s.x,s.width),_=function(A){e.fillText(A,b.x(t.x+p),t.y+h/2),t.y+=h+r},y=b.textAlign(a);let v,M,k,T,w,O,C;for(e.textAlign=a,e.textBaseline="middle",e.font=d.string,t.x=Dn(s,y,i),e.fillStyle=i.bodyColor,I(s.beforeBody,_),p=c&&y!=="right"?a==="center"?u/2+1:u+2:0,T=0,O=o.length;T<O;++T){for(v=o[T],M=s.labelTextColors[T],e.fillStyle=M,I(v.before,_),k=v.lines,c&&k.length&&(s._drawColorBox(e,t,T,b,i),h=Math.max(d.lineHeight,l)),w=0,C=k.length;w<C;++w)_(k[w]),h=d.lineHeight;I(v.after,_)}p=0,h=d.lineHeight,I(s.afterBody,_),t.y-=r}drawFooter(t,e,i){const s=this,o=s.footer,r=o.length;let a,c;if(r){const l=xi(i.rtl,s.x,s.width);for(t.x=Dn(s,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",a=lt(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,c=0;c<r;++c)e.fillText(o[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:r}=this,{x:a,y:c}=t,{width:l,height:u}=i,d=s.cornerRadius;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+d,c),r==="top"&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,c),e.quadraticCurveTo(a+l,c,a+l,c+d),r==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(a+l,c+u-d),e.quadraticCurveTo(a+l,c+u,a+l-d,c+u),r==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(a+d,c+u),e.quadraticCurveTo(a,c+u,a,c+u-d),r==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(a,c+d),e.quadraticCurveTo(a,c,a+d,c),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this,i=e._chart,s=e.$animations,o=s&&s.x,r=s&&s.y;if(o||r){const a=An[t.position].call(e,e._active,e._eventPosition);if(!a)return;const c=e._size=or(e,t),l=Object.assign({},a,e._size),u=rr(i,t,l),d=ar(t,l,u,i);(o._to!==d.x||r._to!==d.y)&&(e.xAlign=u.xAlign,e.yAlign=u.yAlign,e.width=c.width,e.height=c.height,e.caretX=a.x,e.caretY=a.y,e._resolveAnimations().update(e,d))}}draw(t){const e=this,i=e.options.setContext(e.getContext());let s=e.opacity;if(!s)return;e._updateAnimationTarget(i);const o={width:e.width,height:e.height},r={x:e.x,y:e.y};s=Math.abs(s)<.001?0:s;const a=xt(i.padding),c=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;i.enabled&&c&&(t.save(),t.globalAlpha=s,e.drawBackground(r,t,o,i),Zc(t,i.textDirection),r.y+=a.top,e.drawTitle(r,t,i),e.drawBody(r,t,i),e.drawFooter(r,t,i),Qc(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this,s=i._active,o=t.map(({datasetIndex:c,index:l})=>{const u=i._chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),r=!on(s,o),a=i._positionChanged(o,e);(r||a)&&(i._active=o,i._eventPosition=e,i.update(!0))}handleEvent(t,e){const i=this,s=i.options,o=i._active||[];let r=!1,a=[];t.type!=="mouseout"&&(a=i._chart.getElementsAtEventForMode(t,s.mode,s,e),s.reverse&&a.reverse());const c=i._positionChanged(a,t);return r=e||!on(a,o)||c,r&&(i._active=a,(s.enabled||s.external)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0,e))),r}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,r=An[o.position].call(this,t,e);return r!==!1&&(i!==r.x||s!==r.y)}}fd.positioners=An;const hd=(n,t,e)=>typeof t=="string"?n.push(t)-1:isNaN(t)?null:e;function gd(n,t,e){const i=n.indexOf(t);if(i===-1)return hd(n,t,e);const s=n.lastIndexOf(t);return i!==s?e:i}const pd=(n,t)=>n===null?null:tt(Math.round(n),0,t);class Wi extends Qt{constructor(t){super(t);this._startValue=void 0,this._valueRange=0}parse(t,e){if(V(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:gd(i,t,z(e,t)),pd(e,i.length-1)}determineDataLimits(){const t=this,{minDefined:e,maxDefined:i}=t.getUserBounds();let{min:s,max:o}=t.getMinMax(!0);t.options.bounds==="ticks"&&(e||(s=0),i||(o=t.getLabels().length-1)),t.min=s,t.max=o}buildTicks(){const t=this,e=t.min,i=t.max,s=t.options.offset,o=[];let r=t.getLabels();r=e===0&&i===r.length-1?r:r.slice(e,i+1),t._valueRange=Math.max(r.length-(s?0:1),1),t._startValue=t.min-(s?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(t){const i=this.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return typeof t!="number"&&(t=e.parse(t)),t===null?NaN:e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const e=this,i=e.ticks;return t<0||t>i.length-1?null:e.getPixelForValue(i[t].value)}getValueForPixel(t){const e=this;return Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange)}getBasePixel(){return this.bottom}}Wi.id="category";Wi.defaults={ticks:{callback:Wi.prototype.getLabelForValue}};function md(n,t){const e=[],i=1e-14,{bounds:s,step:o,min:r,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=n,p=o||1,b=u-1,{min:_,max:y}=t,v=!V(r),M=!V(a),k=!V(l),T=(y-_)/(d+1);let w=ws((y-_)/b/p)*p,O,C,A,D;if(w<i&&!v&&!M)return[{value:_},{value:y}];D=Math.ceil(y/w)-Math.floor(_/w),D>b&&(w=ws(D*w/b/p)*p),V(c)||(O=Math.pow(10,c),w=Math.ceil(w*O)/O),s==="ticks"?(C=Math.floor(_/w)*w,A=Math.ceil(y/w)*w):(C=_,A=y),v&&M&&o&&Ba((a-r)/o,w/1e3)?(D=Math.round(Math.min((a-r)/w,u)),w=(a-r)/D,C=r,A=a):k?(C=v?r:C,A=M?a:A,D=l-1,w=(A-C)/D):(D=(A-C)/w,Te(D,Math.round(D),w/1e3)?D=Math.round(D):D=Math.ceil(D));const $=Math.max(Ps(w),Ps(C));O=Math.pow(10,V(c)?$:c),C=Math.round(C*O)/O,A=Math.round(A*O)/O;let F=0;for(v&&(h&&C!==r?(e.push({value:r}),C<r&&F++,Te(Math.round((C+F*w)*O)/O,r,ur(r,T,n))&&F++):C<r&&F++);F<D;++F)e.push({value:Math.round((C+F*w)*O)/O});return M&&h&&A!==a?Te(e[e.length-1].value,a,ur(a,T,n))?e[e.length-1].value=a:e.push({value:a}):(!M||A===a)&&e.push({value:A}),e}function ur(n,t,{horizontal:e,minRotation:i}){const s=_t(i),o=(e?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+n).length;return Math.min(t/o,r)}class Rn extends Qt{constructor(t){super(t);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return V(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const t=this,{beginAtZero:e}=t.options,{minDefined:i,maxDefined:s}=t.getUserBounds();let{min:o,max:r}=t;const a=l=>o=i?o:l,c=l=>r=s?r:l;if(e){const l=pt(o),u=pt(r);l<0&&u<0?c(0):l>0&&u>0&&a(0)}if(o===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),c(r+l),e||a(o-l)}t.min=o,t.max=r}getTickLimit(){const t=this,e=t.options.ticks;let{maxTicksLimit:i,stepSize:s}=e,o;return s?o=Math.ceil(t.max/s)-Math.floor(t.min/s)+1:(o=t.computeTickLimit(),i=i||11),i&&(o=Math.min(i,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,i=e.ticks;let s=t.getTickLimit();s=Math.max(2,s);const o={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:t._maxDigits(),horizontal:t.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},r=t._range||t,a=md(o,r);return e.bounds==="ticks"&&ks(a,t,"value"),e.reverse?(a.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),a}configure(){const t=this,e=t.ticks;let i=t.min,s=t.max;if(super.configure(),t.options.offset&&e.length){const o=(s-i)/Math.max(e.length-1,1)/2;i-=o,s+=o}t._startValue=i,t._endValue=s,t._valueRange=s-i}getLabelForValue(t){return Ee(t,this.chart.options.locale)}}class dr extends Rn{determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=J(e)?e:0,t.max=J(i)?i:1,t.handleTickRangeOptions()}computeTickLimit(){const t=this,e=t.isHorizontal(),i=e?t.width:t.height,s=_t(t.options.ticks.minRotation),o=(e?Math.sin(s):Math.cos(s))||.001,r=t._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}dr.id="linear";dr.defaults={ticks:{callback:wn.formatters.numeric}};function fr(n){return n/Math.pow(10,Math.floor(gt(n)))===1}function bd(n,t){const e=Math.floor(gt(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),s=[];let o=ht(n.min,Math.pow(10,Math.floor(gt(t.min)))),r=Math.floor(gt(o)),a=Math.floor(o/Math.pow(10,r)),c=r<0?Math.pow(10,Math.abs(r)):1;do s.push({value:o,major:fr(o)}),++a,a===10&&(a=1,++r,c=r>=0?1:c),o=Math.round(a*Math.pow(10,r)*c)/c;while(r<e||r===e&&a<i);const l=ht(n.max,o);return s.push({value:l,major:fr(o)}),s}class hr extends Qt{constructor(t){super(t);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Rn.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return J(i)&&i>0?i:null}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=J(e)?Math.max(0,e):null,t.max=J(i)?Math.max(0,i):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,{minDefined:e,maxDefined:i}=t.getUserBounds();let s=t.min,o=t.max;const r=l=>s=e?s:l,a=l=>o=i?o:l,c=(l,u)=>Math.pow(10,Math.floor(gt(l))+u);s===o&&(s<=0?(r(1),a(10)):(r(c(s,-1)),a(c(o,1)))),s<=0&&r(c(o,-1)),o<=0&&a(c(s,1)),t._zero&&t.min!==t._suggestedMin&&s===c(t.min,0)&&r(c(s,-1)),t.min=s,t.max=o}buildTicks(){const t=this,e=t.options,i={min:t._userMin,max:t._userMax},s=bd(i,t);return e.bounds==="ticks"&&ks(s,t,"value"),e.reverse?(s.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),s}getLabelForValue(t){return t===void 0?"0":Ee(t,this.chart.options.locale)}configure(){const t=this,e=t.min;super.configure(),t._startValue=gt(e),t._valueRange=gt(t.max)-gt(e)}getPixelForValue(t){const e=this;return(t===void 0||t===0)&&(t=e.min),t===null||isNaN(t)?NaN:e.getPixelForDecimal(t===e.min?0:(gt(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,i=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+i*e._valueRange)}}hr.id="logarithmic";hr.defaults={ticks:{callback:wn.formatters.logarithmic,major:{enabled:!0}}};function Hi(n){const t=n.ticks;if(t.display&&n.display){const e=xt(t.backdropPadding);return z(t.font&&t.font.size,N.font.size)+e.height}return 0}function _d(n,t,e){return e=H(e)?e:[e],{w:uc(n,t.string,e),h:e.length*t.lineHeight}}function gr(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function xd(n){const t={l:0,r:n.width,t:0,b:n.height-n.paddingTop},e={},i=[],s=[],o=n.getLabels().length;for(let r=0;r<o;r++){const a=n.options.pointLabels.setContext(n.getPointLabelContext(r));s[r]=a.padding;const c=n.getPointPosition(r,n.drawingArea+s[r]),l=lt(a.font),u=_d(n.ctx,l,n._pointLabels[r]);i[r]=u;const d=n.getIndexAngle(r),h=ni(d),p=gr(h,c.x,u.w,0,180),b=gr(h,c.y,u.h,90,270);p.start<t.l&&(t.l=p.start,e.l=d),p.end>t.r&&(t.r=p.end,e.r=d),b.start<t.t&&(t.t=b.start,e.t=d),b.end>t.b&&(t.b=b.end,e.b=d)}n._setReductions(n.drawingArea,t,e),n._pointLabelItems=yd(n,i,s)}function yd(n,t,e){const i=[],s=n.getLabels().length,o=n.options,r=Hi(o),a=n.getDistanceFromCenterForValue(o.ticks.reverse?n.min:n.max);for(let c=0;c<s;c++){const l=c===0?r/2:0,u=n.getPointPosition(c,a+l+e[c]),d=ni(n.getIndexAngle(c)),h=t[c],p=Sd(u.y,h.h,d),b=vd(d),_=Md(u.x,h.w,b);i.push({x:u.x,y:p,textAlign:b,left:_,top:p,right:_+h.w,bottom:p+h.h})}return i}function vd(n){return n===0||n===180?"center":n<180?"left":"right"}function Md(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Sd(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Td(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const o=i.setContext(n.getPointLabelContext(s)),r=lt(o.font),{x:a,y:c,textAlign:l,left:u,top:d,right:h,bottom:p}=n._pointLabelItems[s],{backdropColor:b}=o;if(!V(b)){const _=xt(o.backdropPadding);e.fillStyle=b,e.fillRect(u-_.left,d-_.top,h-u+_.width,p-d+_.height)}mn(e,n._pointLabels[s],a,c+r.lineHeight/2,r,{color:o.color,textAlign:l,textBaseline:"middle"})}}function pr(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,W);else{let o=n.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let r=1;r<i;r++)o=n.getPointPosition(r,t),s.lineTo(o.x,o.y)}}function wd(n,t,e,i){const s=n.ctx,o=t.circular,{color:r,lineWidth:a}=t;!o&&!i||!r||!a||e<0||(s.save(),s.strokeStyle=r,s.lineWidth=a,s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset,s.beginPath(),pr(n,e,o,i),s.closePath(),s.stroke(),s.restore())}function Ln(n){return se(n)?n:0}function kd(n,t,e){return Object.assign(Object.create(n),{label:e,index:t,type:"pointLabel"})}class In extends Rn{constructor(t){super(t);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Hi(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!1);t.min=J(e)&&!isNaN(e)?e:0,t.max=J(i)&&!isNaN(i)?i:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hi(this.options))}generateTickLabels(t){const e=this;Rn.prototype.generateTickLabels.call(e,t),e._pointLabels=e.getLabels().map((i,s)=>{const o=R(e.options.pointLabels.callback,[i,s],e);return o||o===0?o:""})}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?xd(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){const s=this;let o=e.l/Math.sin(i.l),r=Math.max(e.r-s.width,0)/Math.sin(i.r),a=-e.t/Math.cos(i.t),c=-Math.max(e.b-(s.height-s.paddingTop),0)/Math.cos(i.b);o=Ln(o),r=Ln(r),a=Ln(a),c=Ln(c),s.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(o+r)/2),Math.floor(t-(a+c)/2))),s.setCenterPoint(o,r,a,c)}setCenterPoint(t,e,i,s){const o=this,r=o.width-e-o.drawingArea,a=t+o.drawingArea,c=i+o.drawingArea,l=o.height-o.paddingTop-s-o.drawingArea;o.xCenter=Math.floor((a+r)/2+o.left),o.yCenter=Math.floor((c+l)/2+o.top+o.paddingTop)}getIndexAngle(t){const e=W/this.getLabels().length,i=this.options.startAngle||0;return At(t*e+_t(i))}getDistanceFromCenterForValue(t){const e=this;if(V(t))return NaN;const i=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*i:(t-e.min)*i}getValueForDistanceFromCenter(t){if(V(t))return NaN;const e=this,i=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-i:e.min+i}getPointLabelContext(t){const e=this,i=e._pointLabels||[];if(t>=0&&t<i.length){const s=i[t];return kd(e.getContext(),t,s)}}getPointPosition(t,e){const i=this,s=i.getIndexAngle(t)-Y;return{x:Math.cos(s)*e+i.xCenter,y:Math.sin(s)*e+i.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:o}}drawBackground(){const t=this,{backgroundColor:e,grid:{circular:i}}=t.options;if(e){const s=t.ctx;s.save(),s.beginPath(),pr(t,t.getDistanceFromCenterForValue(t._endValue),i,t.getLabels().length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const t=this,e=t.ctx,i=t.options,{angleLines:s,grid:o}=i,r=t.getLabels().length;let a,c,l;if(i.pointLabels.display&&Td(t,r),o.display&&t.ticks.forEach((u,d)=>{if(d!==0){c=t.getDistanceFromCenterForValue(u.value);const h=o.setContext(t.getContext(d-1));wd(t,h,c,r)}}),s.display){for(e.save(),a=t.getLabels().length-1;a>=0;a--){const u=s.setContext(t.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),l=t.getPointPosition(a,c),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const t=this,e=t.ctx,i=t.options,s=i.ticks;if(!s.display)return;const o=t.getIndexAngle(0);let r,a;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((c,l)=>{if(l===0&&!i.reverse)return;const u=s.setContext(t.getContext(l)),d=lt(u.font);if(r=t.getDistanceFromCenterForValue(t.ticks[l].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(c.label).width,e.fillStyle=u.backdropColor;const h=xt(u.backdropPadding);e.fillRect(-a/2-h.left,-r-d.size/2-h.top,a+h.width,d.size+h.height)}mn(e,c.label,0,-r,d,{color:u.color})}),e.restore()}drawTitle(){}}In.id="radialLinear";In.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:wn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5}};In.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};In.descriptors={angleLines:{_fallback:"grid"}};const Fn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rt=Object.keys(Fn);function Pd(n,t){return n-t}function mr(n,t){if(V(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let r=t;return typeof i=="function"&&(r=i(r)),J(r)||(r=typeof i=="string"?e.parse(r,i):e.parse(r)),r===null?null:(s&&(r=s==="week"&&(se(o)||o===!0)?e.startOf(r,"isoWeek",o):e.startOf(r,s)),+r)}function br(n,t,e,i){const s=rt.length;for(let o=rt.indexOf(n);o<s-1;++o){const r=Fn[rt[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-t)/(a*r.size))<=i)return rt[o]}return rt[s-1]}function Od(n,t,e,i,s){for(let o=rt.length-1;o>=rt.indexOf(e);o--){const r=rt[o];if(Fn[r].common&&n._adapter.diff(s,i,r)>=t-1)return r}return rt[e?rt.indexOf(e):0]}function Cd(n){for(let t=rt.indexOf(n)+1,e=rt.length;t<e;++t)if(Fn[rt[t]].common)return rt[t]}function _r(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=pi(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function Ed(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),r=t[t.length-1].value;let a,c;for(a=o;a<=r;a=+s.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}function xr(n,t,e){const i=[],s={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,i.push({value:a,major:!1});return o===0||!e?i:Ed(n,i,s,e)}class zn extends Qt{constructor(t){super(t);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const i=t.time||(t.time={}),s=this._adapter=new Il._date(t.adapters.date);Me(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:mr(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,e=t.options,i=t._adapter,s=e.time.unit||"day";let{min:o,max:r,minDefined:a,maxDefined:c}=t.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!a||!c)&&(l(t._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(t.getMinMax(!1))),o=J(o)&&!isNaN(o)?o:+i.startOf(Date.now(),s),r=J(r)&&!isNaN(r)?r:+i.endOf(Date.now(),s)+1,t.min=Math.min(o,r-1),t.max=Math.max(o+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this,e=t.options,i=e.time,s=e.ticks,o=s.source==="labels"?t.getLabelTimestamps():t._generate();e.bounds==="ticks"&&o.length&&(t.min=t._userMin||o[0],t.max=t._userMax||o[o.length-1]);const r=t.min,a=t.max,c=vc(o,r,a);return t._unit=i.unit||(s.autoSkip?br(i.minUnit,t.min,t.max,t._getLabelCapacity(r)):Od(t,c.length,i.minUnit,t.min,t.max)),t._majorUnit=!s.major.enabled||t._unit==="year"?void 0:Cd(t._unit),t.initOffsets(o),e.reverse&&c.reverse(),xr(t,c,t._majorUnit)}initOffsets(t){const e=this;let i=0,s=0,o,r;e.options.offset&&t.length&&(o=e.getDecimalForValue(t[0]),t.length===1?i=1-o:i=(e.getDecimalForValue(t[1])-o)/2,r=e.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-e.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;i=tt(i,0,a),s=tt(s,0,a),e._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const t=this,e=t._adapter,i=t.min,s=t.max,o=t.options,r=o.time,a=r.unit||br(r.minUnit,i,s,t._getLabelCapacity(i)),c=z(r.stepSize,1),l=a==="week"?r.isoWeekday:!1,u=se(l)||l===!0,d={};let h=i,p,b;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":a),e.diff(s,i,a)>1e5*c)throw new Error(i+" and "+s+" are too far apart with stepSize of "+c+" "+a);const _=o.ticks.source==="data"&&t.getDataTimestamps();for(p=h,b=0;p<s;p=+e.add(p,c,a),b++)_r(d,p,_);return(p===s||o.bounds==="ticks"||b===1)&&_r(d,p,_),Object.keys(d).sort((y,v)=>y-v).map(y=>+y)}getLabelForValue(t){const e=this,i=e._adapter,s=e.options.time;return s.tooltipFormat?i.format(t,s.tooltipFormat):i.format(t,s.displayFormats.datetime)}_tickFormatFunction(t,e,i,s){const o=this,r=o.options,a=r.time.displayFormats,c=o._unit,l=o._majorUnit,u=c&&a[c],d=l&&a[l],h=i[e],p=l&&d&&h&&h.major,b=o._adapter.format(t,s||(p?d:u)),_=r.ticks.callback;return _?R(_,[b,e,i],o):b}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){const e=this;return t===null?NaN:(t-e.min)/(e.max-e.min)}getPixelForValue(t){const e=this,i=e._offsets,s=e.getDecimalForValue(t);return e.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return e.min+s*(e.max-e.min)}_getLabelSize(t){const e=this,i=e.options.ticks,s=e.ctx.measureText(t).width,o=_t(e.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(o),a=Math.sin(o),c=e._resolveTickFontOptions(0).size;return{w:s*r+c*a,h:s*a+c*r}}_getLabelCapacity(t){const e=this,i=e.options.time,s=i.displayFormats,o=s[i.unit]||s.millisecond,r=e._tickFormatFunction(t,0,xr(e,[t],e._majorUnit),o),a=e._getLabelSize(r),c=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h)-1;return c>0?c:1}getDataTimestamps(){const t=this;let e=t._cache.data||[],i,s;if(e.length)return e;const o=t.getMatchingVisibleMetas();if(t._normalized&&o.length)return t._cache.data=o[0].controller.getAllParsedValues(t);for(i=0,s=o.length;i<s;++i)e=e.concat(o[i].controller.getAllParsedValues(t));return t._cache.data=t.normalize(e)}getLabelTimestamps(){const t=this,e=t._cache.labels||[];let i,s;if(e.length)return e;const o=t.getLabels();for(i=0,s=o.length;i<s;++i)e.push(mr(t,o[i]));return t._cache.labels=t._normalized?e:t.normalize(e)}normalize(t){return $s(t.sort(Pd))}}zn.id="time";zn.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Nn(n,t,e){let i=0,s=n.length-1,o,r,a,c;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=qt(n,"pos",t)),{pos:o,time:a}=n[i],{pos:r,time:c}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=qt(n,"time",t)),{time:o,pos:a}=n[i],{time:r,pos:c}=n[s]);const l=r-o;return l?a+(c-a)*(t-o)/l:a}class yr extends zn{constructor(t){super(t);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable(),i=t._table=t.buildLookupTable(e);t._minPos=Nn(i,t.min),t._tableRange=Nn(i,t.max)-t._minPos,super.initOffsets(e)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let r,a,c,l,u;for(r=0,a=t.length;r<a;++r)l=t[r],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(r=0,a=s.length;r<a;++r)u=s[r+1],c=s[r-1],l=s[r],Math.round((u+c)/2)!==l&&o.push({time:l,pos:r/(a-1)});return o}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const i=t.getDataTimestamps(),s=t.getLabelTimestamps();return i.length&&s.length?e=t.normalize(i.concat(s)):e=i.length?i:s,e=t._cache.all=e,e}getDecimalForValue(t){return(Nn(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this,i=e._offsets,s=e.getDecimalForPixel(t)/i.factor-i.end;return Nn(e._table,s*e._tableRange+e._minPos,!0)}}yr.id="timeseries";yr.defaults=zn.defaults;var vr={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(n){(function(t,e,i,s){var o=["","webkit","Moz","MS","ms","o"],r=e.createElement("div"),a="function",c=Math.round,l=Math.abs,u=Date.now;function d(f,g,m){return setTimeout(k(f,m),g)}function h(f,g,m){return Array.isArray(f)?(p(f,m[g],m),!0):!1}function p(f,g,m){var x;if(!!f)if(f.forEach)f.forEach(g,m);else if(f.length!==s)for(x=0;x<f.length;)g.call(m,f[x],x,f),x++;else for(x in f)f.hasOwnProperty(x)&&g.call(m,f[x],x,f)}function b(f,g,m){var x="DEPRECATED METHOD: "+g+`
`+m+` AT 
`;return function(){var S=new Error("get-stack-trace"),P=S&&S.stack?S.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",L=t.console&&(t.console.warn||t.console.log);return L&&L.call(t.console,x,P),f.apply(this,arguments)}}var _;typeof Object.assign!="function"?_=function(g){if(g===s||g===null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(g),x=1;x<arguments.length;x++){var S=arguments[x];if(S!==s&&S!==null)for(var P in S)S.hasOwnProperty(P)&&(m[P]=S[P])}return m}:_=Object.assign;var y=b(function(g,m,x){for(var S=Object.keys(m),P=0;P<S.length;)(!x||x&&g[S[P]]===s)&&(g[S[P]]=m[S[P]]),P++;return g},"extend","Use `assign`."),v=b(function(g,m){return y(g,m,!0)},"merge","Use `assign`.");function M(f,g,m){var x=g.prototype,S;S=f.prototype=Object.create(x),S.constructor=f,S._super=x,m&&_(S,m)}function k(f,g){return function(){return f.apply(g,arguments)}}function T(f,g){return typeof f==a?f.apply(g&&g[0]||s,g):f}function w(f,g){return f===s?g:f}function O(f,g,m){p($(g),function(x){f.addEventListener(x,m,!1)})}function C(f,g,m){p($(g),function(x){f.removeEventListener(x,m,!1)})}function A(f,g){for(;f;){if(f==g)return!0;f=f.parentNode}return!1}function D(f,g){return f.indexOf(g)>-1}function $(f){return f.trim().split(/\s+/g)}function F(f,g,m){if(f.indexOf&&!m)return f.indexOf(g);for(var x=0;x<f.length;){if(m&&f[x][m]==g||!m&&f[x]===g)return x;x++}return-1}function q(f){return Array.prototype.slice.call(f,0)}function j(f,g,m){for(var x=[],S=[],P=0;P<f.length;){var L=g?f[P][g]:f[P];F(S,L)<0&&x.push(f[P]),S[P]=L,P++}return m&&(g?x=x.sort(function(Q,nt){return Q[g]>nt[g]}):x=x.sort()),x}function it(f,g){for(var m,x,S=g[0].toUpperCase()+g.slice(1),P=0;P<o.length;){if(m=o[P],x=m?m+S:g,x in f)return x;P++}return s}var ct=1;function E(){return ct++}function K(f){var g=f.ownerDocument||f;return g.defaultView||g.parentWindow||t}var kt=/mobile|tablet|ip(ad|hone|od)|android/i,Ft="ontouchstart"in t,ue=it(t,"PointerEvent")!==s,te=Ft&&kt.test(navigator.userAgent),ut="touch",Wt="pen",Pt="mouse",de="kinect",fe=25,et=1,Ht=2,U=4,st=8,je=1,he=2,ge=4,pe=8,me=16,vt=he|ge,jt=pe|me,Gi=vt|jt,Ki=["x","y"],Ye=["clientX","clientY"];function dt(f,g){var m=this;this.manager=f,this.callback=g,this.element=f.element,this.target=f.options.inputTarget,this.domHandler=function(x){T(f.options.enable,[f])&&m.handler(x)},this.init()}dt.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(K(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(K(this.element),this.evWin,this.domHandler)}};function Nr(f){var g,m=f.options.inputClass;return m?g=m:ue?g=Wn:te?g=$e:Ft?g=Hn:g=Xe,new g(f,Br)}function Br(f,g,m){var x=m.pointers.length,S=m.changedPointers.length,P=g&et&&x-S==0,L=g&(U|st)&&x-S==0;m.isFirst=!!P,m.isFinal=!!L,P&&(f.session={}),m.eventType=g,Vr(f,m),f.emit("hammer.input",m),f.recognize(m),f.session.prevInput=m}function Vr(f,g){var m=f.session,x=g.pointers,S=x.length;m.firstInput||(m.firstInput=Zi(g)),S>1&&!m.firstMultiple?m.firstMultiple=Zi(g):S===1&&(m.firstMultiple=!1);var P=m.firstInput,L=m.firstMultiple,Z=L?L.center:P.center,Q=g.center=Qi(x);g.timeStamp=u(),g.deltaTime=g.timeStamp-P.timeStamp,g.angle=Vn(Z,Q),g.distance=Ue(Z,Q),Wr(m,g),g.offsetDirection=ts(g.deltaX,g.deltaY);var nt=Ji(g.deltaTime,g.deltaX,g.deltaY);g.overallVelocityX=nt.x,g.overallVelocityY=nt.y,g.overallVelocity=l(nt.x)>l(nt.y)?nt.x:nt.y,g.scale=L?Yr(L.pointers,x):1,g.rotation=L?jr(L.pointers,x):0,g.maxPointers=m.prevInput?g.pointers.length>m.prevInput.maxPointers?g.pointers.length:m.prevInput.maxPointers:g.pointers.length,Hr(m,g);var St=f.element;A(g.srcEvent.target,St)&&(St=g.srcEvent.target),g.target=St}function Wr(f,g){var m=g.center,x=f.offsetDelta||{},S=f.prevDelta||{},P=f.prevInput||{};(g.eventType===et||P.eventType===U)&&(S=f.prevDelta={x:P.deltaX||0,y:P.deltaY||0},x=f.offsetDelta={x:m.x,y:m.y}),g.deltaX=S.x+(m.x-x.x),g.deltaY=S.y+(m.y-x.y)}function Hr(f,g){var m=f.lastInterval||g,x=g.timeStamp-m.timeStamp,S,P,L,Z;if(g.eventType!=st&&(x>fe||m.velocity===s)){var Q=g.deltaX-m.deltaX,nt=g.deltaY-m.deltaY,St=Ji(x,Q,nt);P=St.x,L=St.y,S=l(St.x)>l(St.y)?St.x:St.y,Z=ts(Q,nt),f.lastInterval=g}else S=m.velocity,P=m.velocityX,L=m.velocityY,Z=m.direction;g.velocity=S,g.velocityX=P,g.velocityY=L,g.direction=Z}function Zi(f){for(var g=[],m=0;m<f.pointers.length;)g[m]={clientX:c(f.pointers[m].clientX),clientY:c(f.pointers[m].clientY)},m++;return{timeStamp:u(),pointers:g,center:Qi(g),deltaX:f.deltaX,deltaY:f.deltaY}}function Qi(f){var g=f.length;if(g===1)return{x:c(f[0].clientX),y:c(f[0].clientY)};for(var m=0,x=0,S=0;S<g;)m+=f[S].clientX,x+=f[S].clientY,S++;return{x:c(m/g),y:c(x/g)}}function Ji(f,g,m){return{x:g/f||0,y:m/f||0}}function ts(f,g){return f===g?je:l(f)>=l(g)?f<0?he:ge:g<0?pe:me}function Ue(f,g,m){m||(m=Ki);var x=g[m[0]]-f[m[0]],S=g[m[1]]-f[m[1]];return Math.sqrt(x*x+S*S)}function Vn(f,g,m){m||(m=Ki);var x=g[m[0]]-f[m[0]],S=g[m[1]]-f[m[1]];return Math.atan2(S,x)*180/Math.PI}function jr(f,g){return Vn(g[1],g[0],Ye)+Vn(f[1],f[0],Ye)}function Yr(f,g){return Ue(g[0],g[1],Ye)/Ue(f[0],f[1],Ye)}var Ur={mousedown:et,mousemove:Ht,mouseup:U},Xr="mousedown",$r="mousemove mouseup";function Xe(){this.evEl=Xr,this.evWin=$r,this.pressed=!1,dt.apply(this,arguments)}M(Xe,dt,{handler:function(g){var m=Ur[g.type];m&et&&g.button===0&&(this.pressed=!0),m&Ht&&g.which!==1&&(m=U),!!this.pressed&&(m&U&&(this.pressed=!1),this.callback(this.manager,m,{pointers:[g],changedPointers:[g],pointerType:Pt,srcEvent:g}))}});var qr={pointerdown:et,pointermove:Ht,pointerup:U,pointercancel:st,pointerout:st},Gr={2:ut,3:Wt,4:Pt,5:de},es="pointerdown",ns="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(es="MSPointerDown",ns="MSPointerMove MSPointerUp MSPointerCancel");function Wn(){this.evEl=es,this.evWin=ns,dt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}M(Wn,dt,{handler:function(g){var m=this.store,x=!1,S=g.type.toLowerCase().replace("ms",""),P=qr[S],L=Gr[g.pointerType]||g.pointerType,Z=L==ut,Q=F(m,g.pointerId,"pointerId");P&et&&(g.button===0||Z)?Q<0&&(m.push(g),Q=m.length-1):P&(U|st)&&(x=!0),!(Q<0)&&(m[Q]=g,this.callback(this.manager,P,{pointers:m,changedPointers:[g],pointerType:L,srcEvent:g}),x&&m.splice(Q,1))}});var Kr={touchstart:et,touchmove:Ht,touchend:U,touchcancel:st},Zr="touchstart",Qr="touchstart touchmove touchend touchcancel";function is(){this.evTarget=Zr,this.evWin=Qr,this.started=!1,dt.apply(this,arguments)}M(is,dt,{handler:function(g){var m=Kr[g.type];if(m===et&&(this.started=!0),!!this.started){var x=Jr.call(this,g,m);m&(U|st)&&x[0].length-x[1].length==0&&(this.started=!1),this.callback(this.manager,m,{pointers:x[0],changedPointers:x[1],pointerType:ut,srcEvent:g})}}});function Jr(f,g){var m=q(f.touches),x=q(f.changedTouches);return g&(U|st)&&(m=j(m.concat(x),"identifier",!0)),[m,x]}var ta={touchstart:et,touchmove:Ht,touchend:U,touchcancel:st},ea="touchstart touchmove touchend touchcancel";function $e(){this.evTarget=ea,this.targetIds={},dt.apply(this,arguments)}M($e,dt,{handler:function(g){var m=ta[g.type],x=na.call(this,g,m);!x||this.callback(this.manager,m,{pointers:x[0],changedPointers:x[1],pointerType:ut,srcEvent:g})}});function na(f,g){var m=q(f.touches),x=this.targetIds;if(g&(et|Ht)&&m.length===1)return x[m[0].identifier]=!0,[m,m];var S,P,L=q(f.changedTouches),Z=[],Q=this.target;if(P=m.filter(function(nt){return A(nt.target,Q)}),g===et)for(S=0;S<P.length;)x[P[S].identifier]=!0,S++;for(S=0;S<L.length;)x[L[S].identifier]&&Z.push(L[S]),g&(U|st)&&delete x[L[S].identifier],S++;if(!!Z.length)return[j(P.concat(Z),"identifier",!0),Z]}var ia=2500,ss=25;function Hn(){dt.apply(this,arguments);var f=k(this.handler,this);this.touch=new $e(this.manager,f),this.mouse=new Xe(this.manager,f),this.primaryTouch=null,this.lastTouches=[]}M(Hn,dt,{handler:function(g,m,x){var S=x.pointerType==ut,P=x.pointerType==Pt;if(!(P&&x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents)){if(S)sa.call(this,m,x);else if(P&&oa.call(this,x))return;this.callback(g,m,x)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function sa(f,g){f&et?(this.primaryTouch=g.changedPointers[0].identifier,os.call(this,g)):f&(U|st)&&os.call(this,g)}function os(f){var g=f.changedPointers[0];if(g.identifier===this.primaryTouch){var m={x:g.clientX,y:g.clientY};this.lastTouches.push(m);var x=this.lastTouches,S=function(){var P=x.indexOf(m);P>-1&&x.splice(P,1)};setTimeout(S,ia)}}function oa(f){for(var g=f.srcEvent.clientX,m=f.srcEvent.clientY,x=0;x<this.lastTouches.length;x++){var S=this.lastTouches[x],P=Math.abs(g-S.x),L=Math.abs(m-S.y);if(P<=ss&&L<=ss)return!0}return!1}var rs=it(r.style,"touchAction"),as=rs!==s,cs="compute",ls="auto",jn="manipulation",Yt="none",be="pan-x",_e="pan-y",qe=aa();function Yn(f,g){this.manager=f,this.set(g)}Yn.prototype={set:function(f){f==cs&&(f=this.compute()),as&&this.manager.element.style&&qe[f]&&(this.manager.element.style[rs]=f),this.actions=f.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var f=[];return p(this.manager.recognizers,function(g){T(g.options.enable,[g])&&(f=f.concat(g.getTouchAction()))}),ra(f.join(" "))},preventDefaults:function(f){var g=f.srcEvent,m=f.offsetDirection;if(this.manager.session.prevented){g.preventDefault();return}var x=this.actions,S=D(x,Yt)&&!qe[Yt],P=D(x,_e)&&!qe[_e],L=D(x,be)&&!qe[be];if(S){var Z=f.pointers.length===1,Q=f.distance<2,nt=f.deltaTime<250;if(Z&&Q&&nt)return}if(!(L&&P)&&(S||P&&m&vt||L&&m&jt))return this.preventSrc(g)},preventSrc:function(f){this.manager.session.prevented=!0,f.preventDefault()}};function ra(f){if(D(f,Yt))return Yt;var g=D(f,be),m=D(f,_e);return g&&m?Yt:g||m?g?be:_e:D(f,jn)?jn:ls}function aa(){if(!as)return!1;var f={},g=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(m){f[m]=g?t.CSS.supports("touch-action",m):!0}),f}var Ge=1,ft=2,ee=4,zt=8,Ot=zt,xe=16,Mt=32;function Ct(f){this.options=_({},this.defaults,f||{}),this.id=E(),this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Ge,this.simultaneous={},this.requireFail=[]}Ct.prototype={defaults:{},set:function(f){return _(this.options,f),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(f){if(h(f,"recognizeWith",this))return this;var g=this.simultaneous;return f=Ke(f,this),g[f.id]||(g[f.id]=f,f.recognizeWith(this)),this},dropRecognizeWith:function(f){return h(f,"dropRecognizeWith",this)?this:(f=Ke(f,this),delete this.simultaneous[f.id],this)},requireFailure:function(f){if(h(f,"requireFailure",this))return this;var g=this.requireFail;return f=Ke(f,this),F(g,f)===-1&&(g.push(f),f.requireFailure(this)),this},dropRequireFailure:function(f){if(h(f,"dropRequireFailure",this))return this;f=Ke(f,this);var g=F(this.requireFail,f);return g>-1&&this.requireFail.splice(g,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(f){return!!this.simultaneous[f.id]},emit:function(f){var g=this,m=this.state;function x(S){g.manager.emit(S,f)}m<zt&&x(g.options.event+us(m)),x(g.options.event),f.additionalEvent&&x(f.additionalEvent),m>=zt&&x(g.options.event+us(m))},tryEmit:function(f){if(this.canEmit())return this.emit(f);this.state=Mt},canEmit:function(){for(var f=0;f<this.requireFail.length;){if(!(this.requireFail[f].state&(Mt|Ge)))return!1;f++}return!0},recognize:function(f){var g=_({},f);if(!T(this.options.enable,[this,g])){this.reset(),this.state=Mt;return}this.state&(Ot|xe|Mt)&&(this.state=Ge),this.state=this.process(g),this.state&(ft|ee|zt|xe)&&this.tryEmit(g)},process:function(f){},getTouchAction:function(){},reset:function(){}};function us(f){return f&xe?"cancel":f&zt?"end":f&ee?"move":f&ft?"start":""}function ds(f){return f==me?"down":f==pe?"up":f==he?"left":f==ge?"right":""}function Ke(f,g){var m=g.manager;return m?m.get(f):f}function bt(){Ct.apply(this,arguments)}M(bt,Ct,{defaults:{pointers:1},attrTest:function(f){var g=this.options.pointers;return g===0||f.pointers.length===g},process:function(f){var g=this.state,m=f.eventType,x=g&(ft|ee),S=this.attrTest(f);return x&&(m&st||!S)?g|xe:x||S?m&U?g|zt:g&ft?g|ee:ft:Mt}});function Ze(){bt.apply(this,arguments),this.pX=null,this.pY=null}M(Ze,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Gi},getTouchAction:function(){var f=this.options.direction,g=[];return f&vt&&g.push(_e),f&jt&&g.push(be),g},directionTest:function(f){var g=this.options,m=!0,x=f.distance,S=f.direction,P=f.deltaX,L=f.deltaY;return S&g.direction||(g.direction&vt?(S=P===0?je:P<0?he:ge,m=P!=this.pX,x=Math.abs(f.deltaX)):(S=L===0?je:L<0?pe:me,m=L!=this.pY,x=Math.abs(f.deltaY))),f.direction=S,m&&x>g.threshold&&S&g.direction},attrTest:function(f){return bt.prototype.attrTest.call(this,f)&&(this.state&ft||!(this.state&ft)&&this.directionTest(f))},emit:function(f){this.pX=f.deltaX,this.pY=f.deltaY;var g=ds(f.direction);g&&(f.additionalEvent=this.options.event+g),this._super.emit.call(this,f)}});function Un(){bt.apply(this,arguments)}M(Un,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Yt]},attrTest:function(f){return this._super.attrTest.call(this,f)&&(Math.abs(f.scale-1)>this.options.threshold||this.state&ft)},emit:function(f){if(f.scale!==1){var g=f.scale<1?"in":"out";f.additionalEvent=this.options.event+g}this._super.emit.call(this,f)}});function Xn(){Ct.apply(this,arguments),this._timer=null,this._input=null}M(Xn,Ct,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ls]},process:function(f){var g=this.options,m=f.pointers.length===g.pointers,x=f.distance<g.threshold,S=f.deltaTime>g.time;if(this._input=f,!x||!m||f.eventType&(U|st)&&!S)this.reset();else if(f.eventType&et)this.reset(),this._timer=d(function(){this.state=Ot,this.tryEmit()},g.time,this);else if(f.eventType&U)return Ot;return Mt},reset:function(){clearTimeout(this._timer)},emit:function(f){this.state===Ot&&(f&&f.eventType&U?this.manager.emit(this.options.event+"up",f):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function $n(){bt.apply(this,arguments)}M($n,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Yt]},attrTest:function(f){return this._super.attrTest.call(this,f)&&(Math.abs(f.rotation)>this.options.threshold||this.state&ft)}});function qn(){bt.apply(this,arguments)}M(qn,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:vt|jt,pointers:1},getTouchAction:function(){return Ze.prototype.getTouchAction.call(this)},attrTest:function(f){var g=this.options.direction,m;return g&(vt|jt)?m=f.overallVelocity:g&vt?m=f.overallVelocityX:g&jt&&(m=f.overallVelocityY),this._super.attrTest.call(this,f)&&g&f.offsetDirection&&f.distance>this.options.threshold&&f.maxPointers==this.options.pointers&&l(m)>this.options.velocity&&f.eventType&U},emit:function(f){var g=ds(f.offsetDirection);g&&this.manager.emit(this.options.event+g,f),this.manager.emit(this.options.event,f)}});function Qe(){Ct.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}M(Qe,Ct,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[jn]},process:function(f){var g=this.options,m=f.pointers.length===g.pointers,x=f.distance<g.threshold,S=f.deltaTime<g.time;if(this.reset(),f.eventType&et&&this.count===0)return this.failTimeout();if(x&&S&&m){if(f.eventType!=U)return this.failTimeout();var P=this.pTime?f.timeStamp-this.pTime<g.interval:!0,L=!this.pCenter||Ue(this.pCenter,f.center)<g.posThreshold;this.pTime=f.timeStamp,this.pCenter=f.center,!L||!P?this.count=1:this.count+=1,this._input=f;var Z=this.count%g.taps;if(Z===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=Ot,this.tryEmit()},g.interval,this),ft):Ot}return Mt},failTimeout:function(){return this._timer=d(function(){this.state=Mt},this.options.interval,this),Mt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ot&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Et(f,g){return g=g||{},g.recognizers=w(g.recognizers,Et.defaults.preset),new Gn(f,g)}Et.VERSION="2.0.7",Et.defaults={domEvents:!1,touchAction:cs,enable:!0,inputTarget:null,inputClass:null,preset:[[$n,{enable:!1}],[Un,{enable:!1},["rotate"]],[qn,{direction:vt}],[Ze,{direction:vt},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[Xn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ca=1,fs=2;function Gn(f,g){this.options=_({},Et.defaults,g||{}),this.options.inputTarget=this.options.inputTarget||f,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=f,this.input=Nr(this),this.touchAction=new Yn(this,this.options.touchAction),hs(this,!0),p(this.options.recognizers,function(m){var x=this.add(new m[0](m[1]));m[2]&&x.recognizeWith(m[2]),m[3]&&x.requireFailure(m[3])},this)}Gn.prototype={set:function(f){return _(this.options,f),f.touchAction&&this.touchAction.update(),f.inputTarget&&(this.input.destroy(),this.input.target=f.inputTarget,this.input.init()),this},stop:function(f){this.session.stopped=f?fs:ca},recognize:function(f){var g=this.session;if(!g.stopped){this.touchAction.preventDefaults(f);var m,x=this.recognizers,S=g.curRecognizer;(!S||S&&S.state&Ot)&&(S=g.curRecognizer=null);for(var P=0;P<x.length;)m=x[P],g.stopped!==fs&&(!S||m==S||m.canRecognizeWith(S))?m.recognize(f):m.reset(),!S&&m.state&(ft|ee|zt)&&(S=g.curRecognizer=m),P++}},get:function(f){if(f instanceof Ct)return f;for(var g=this.recognizers,m=0;m<g.length;m++)if(g[m].options.event==f)return g[m];return null},add:function(f){if(h(f,"add",this))return this;var g=this.get(f.options.event);return g&&this.remove(g),this.recognizers.push(f),f.manager=this,this.touchAction.update(),f},remove:function(f){if(h(f,"remove",this))return this;if(f=this.get(f),f){var g=this.recognizers,m=F(g,f);m!==-1&&(g.splice(m,1),this.touchAction.update())}return this},on:function(f,g){if(f!==s&&g!==s){var m=this.handlers;return p($(f),function(x){m[x]=m[x]||[],m[x].push(g)}),this}},off:function(f,g){if(f!==s){var m=this.handlers;return p($(f),function(x){g?m[x]&&m[x].splice(F(m[x],g),1):delete m[x]}),this}},emit:function(f,g){this.options.domEvents&&la(f,g);var m=this.handlers[f]&&this.handlers[f].slice();if(!(!m||!m.length)){g.type=f,g.preventDefault=function(){g.srcEvent.preventDefault()};for(var x=0;x<m.length;)m[x](g),x++}},destroy:function(){this.element&&hs(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function hs(f,g){var m=f.element;if(!!m.style){var x;p(f.options.cssProps,function(S,P){x=it(m.style,P),g?(f.oldCssProps[x]=m.style[x],m.style[x]=S):m.style[x]=f.oldCssProps[x]||""}),g||(f.oldCssProps={})}}function la(f,g){var m=e.createEvent("Event");m.initEvent(f,!0,!0),m.gesture=g,g.target.dispatchEvent(m)}_(Et,{INPUT_START:et,INPUT_MOVE:Ht,INPUT_END:U,INPUT_CANCEL:st,STATE_POSSIBLE:Ge,STATE_BEGAN:ft,STATE_CHANGED:ee,STATE_ENDED:zt,STATE_RECOGNIZED:Ot,STATE_CANCELLED:xe,STATE_FAILED:Mt,DIRECTION_NONE:je,DIRECTION_LEFT:he,DIRECTION_RIGHT:ge,DIRECTION_UP:pe,DIRECTION_DOWN:me,DIRECTION_HORIZONTAL:vt,DIRECTION_VERTICAL:jt,DIRECTION_ALL:Gi,Manager:Gn,Input:dt,TouchAction:Yn,TouchInput:$e,MouseInput:Xe,PointerEventInput:Wn,TouchMouseInput:Hn,SingleTouchInput:is,Recognizer:Ct,AttrRecognizer:bt,Tap:Qe,Pan:Ze,Swipe:qn,Pinch:Un,Rotate:$n,Press:Xn,on:O,off:C,each:p,merge:v,extend:y,assign:_,inherit:M,bindFn:k,prefixed:it});var ua=typeof t!="undefined"?t:typeof self!="undefined"?self:{};ua.Hammer=Et,typeof s=="function"&&s.amd?s(function(){return Et}):n.exports?n.exports=Et:t[i]=Et})(window,document,"Hammer")})(vr);var Ve=vr.exports;/*!
* chartjs-plugin-zoom v1.1.1
* undefined
 * (c) 2016-2021 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const We=n=>n&&n.enabled&&n.modifierKey,Mr=(n,t)=>n&&t[n+"Key"],ji=(n,t)=>n&&!t[n+"Key"];function at(n,t,e){return n===void 0?!0:typeof n=="string"?n.indexOf(t)!==-1:typeof n=="function"?n({chart:e}).indexOf(t)!==-1:!1}function Ad(n,t){let e;return function(){return clearTimeout(e),e=setTimeout(n,t),t}}function Dd({x:n,y:t},e){const i=e.scales,s=Object.keys(i);for(let o=0;o<s.length;o++){const r=i[s[o]];if(t>=r.top&&t<=r.bottom&&n>=r.left&&n<=r.right)return r}return null}function Sr(n,t,e){const i=Dd(t,e);if(i&&at(n,i.axis,e))return[i];const s=[];return I(e.scales,function(o){at(n,o.axis,e)||s.push(o)}),s}const Yi=new WeakMap;function G(n){let t=Yi.get(n);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{}},Yi.set(n,t)),t}function Rd(n){Yi.delete(n)}function Tr(n,t,e){const i=n.max-n.min,s=i*(t-1),o=n.isHorizontal()?e.x:e.y,r=(n.getValueForPixel(o)-n.min)/i||0,a=1-r;return{min:s*r,max:s*a}}function wr(n,t,e,i,s){let o=e[i];if(o==="original"){const r=n.originalScaleLimits[t.id][i];o=z(r.options,r.scale)}return z(o,s)}function Jt(n,{min:t,max:e},i,s=!1){const o=G(n.chart),{id:r,axis:a,options:c}=n,l=i&&(i[r]||i[a])||{},{minRange:u=0}=l,d=wr(o,n,l,"min",-1/0),h=wr(o,n,l,"max",1/0),p=Math.max(t,d),b=Math.min(e,h),_=s?Math.max(b-p,u):n.max-n.min;if(b-p!==_)if(d>b-_)t=p,e=p+_;else if(h<p+_)e=b,t=b-_;else{const y=(_-b+p)/2;t=p-y,e=b+y}else t=p,e=b;return c.min=t,c.max=e,o.updatedScaleLimits[n.id]={min:t,max:e},n.parse(t)!==n.min||n.parse(e)!==n.max}function Ld(n,t,e,i){const s=Tr(n,t,e),o={min:n.min+s.min,max:n.max-s.max};return Jt(n,o,i,!0)}const kr=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function Id(n){const e=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<e&&(n.max+=1)}function Fd(n,t,e,i){const s=Tr(n,t,e);n.min===n.max&&t<1&&Id(n);const o={min:n.min+kr(s.min),max:n.max-kr(s.max)};return Jt(n,o,i,!0)}function zd(n){return n.isHorizontal()?n.width:n.height}function Nd(n,t,e){const s=n.getLabels().length-1;let{min:o,max:r}=n;const a=Math.max(r-o,1),c=Math.round(zd(n)/Math.max(a,10)),l=Math.round(Math.abs(t/c));let u;return t<-c?(r=Math.min(r+l,s),o=a===1?r:r-a,u=r===s):t>c&&(o=Math.max(0,o-l),r=a===1?o:o+a,u=o===0),Jt(n,{min:o,max:r},e)||u}const Bd={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function Pr(n,t,e,i=!1){const{min:s,max:o,options:r}=n,a=r.time&&r.time.round,c=Bd[a]||0,l=n.getValueForPixel(n.getPixelForValue(s+c)-t),u=n.getValueForPixel(n.getPixelForValue(o+c)-t),{min:d=-1/0,max:h=1/0}=i&&e&&e[n.axis]||{};return isNaN(l)||isNaN(u)||l<d||u>h?!0:Jt(n,{min:l,max:u},e,i)}function Or(n,t,e){return Pr(n,t,e,!0)}const Ui={category:Fd,default:Ld},Xi={category:Nd,default:Pr,logarithmic:Or,timeseries:Or};function Vd(n,t,e){const{id:i,options:{min:s,max:o}}=n;if(!t[i]||!e[i])return!0;const r=e[i];return r.min!==s||r.max!==o}function Cr(n,t){I(n,(e,i)=>{t[i]||delete n[i]})}function He(n,t){const{scales:e}=n,{originalScaleLimits:i,updatedScaleLimits:s}=t;return I(e,function(o){Vd(o,i,s)&&(i[o.id]={min:{scale:o.min,options:o.options.min},max:{scale:o.max,options:o.options.max}})}),Cr(i,e),Cr(s,e),i}function Er(n,t,e,i){const s=Ui[n.type]||Ui.default;R(s,[n,t,e,i])}function Wd(n){const t=n.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function $i(n,t,e="none"){const{x:i=1,y:s=1,focalPoint:o=Wd(n)}=typeof t=="number"?{x:t,y:t}:t,r=G(n),{options:{limits:a,zoom:c}}=r,{mode:l="xy",overScaleMode:u}=c||{};He(n,r);const d=i!==1&&at(l,"x",n),h=s!==1&&at(l,"y",n),p=u&&Sr(u,o,n);I(p||n.scales,function(b){b.isHorizontal()&&d?Er(b,i,o,a):!b.isHorizontal()&&h&&Er(b,s,o,a)}),n.update(e),R(c.onZoom,[{chart:n}])}function Ar(n,t,e){const i=n.getValueForPixel(t),s=n.getValueForPixel(e);return{min:Math.min(i,s),max:Math.max(i,s)}}function Hd(n,t,e,i="none"){const s=G(n),{options:{limits:o,zoom:r}}=s,{mode:a="xy"}=r;He(n,s);const c=at(a,"x",n),l=at(a,"y",n);I(n.scales,function(u){u.isHorizontal()&&c?Jt(u,Ar(u,t.x,e.x),o,!0):!u.isHorizontal()&&l&&Jt(u,Ar(u,t.y,e.y),o,!0)}),n.update(i),R(r.onZoom,[{chart:n}])}function jd(n,t,e,i="none"){He(n,G(n));const s=n.scales[t];Jt(s,e,void 0,!0),n.update(i)}function Yd(n,t="default"){const e=G(n),i=He(n,e);I(n.scales,function(s){const o=s.options;i[s.id]?(o.min=i[s.id].min.options,o.max=i[s.id].max.options):(delete o.min,delete o.max)}),n.update(t),R(e.options.zoom.onZoomComplete,[{chart:n}])}function Ud(n,t){const e=n.originalScaleLimits[t];if(!e)return;const{min:i,max:s}=e;return z(s.options,s.scale)-z(i.options,i.scale)}function Xd(n){const t=G(n);let e=1,i=1;return I(n.scales,function(s){const o=Ud(t,s.id);if(o){const r=Math.round(o/(s.max-s.min)*100)/100;e=Math.min(e,r),i=Math.max(i,r)}}),e<1?e:i}function Dr(n,t,e,i){const{panDelta:s}=i,o=s[n.id]||0;pt(o)===pt(t)&&(t+=o);const r=Xi[n.type]||Xi.default;R(r,[n,t,e])?s[n.id]=0:s[n.id]=t}function Rr(n,t,e,i="none"){const{x:s=0,y:o=0}=typeof t=="number"?{x:t,y:t}:t,r=G(n),{options:{pan:a,limits:c}}=r,{mode:l="xy",onPan:u}=a||{};He(n,r);const d=s!==0&&at(l,"x",n),h=o!==0&&at(l,"y",n);I(e||n.scales,function(p){p.isHorizontal()&&d?Dr(p,s,c,r):!p.isHorizontal()&&h&&Dr(p,o,c,r)}),n.update(i),R(u,[{chart:n}])}function yt(n,t){const{handlers:e}=G(n),i=e[t];i&&i.target&&(i.target.removeEventListener(t,i),delete e[t])}function Bn(n,t,e,i){const{handlers:s,options:o}=G(n);yt(n,e),s[e]=r=>i(n,r,o),s[e].target=t,t.addEventListener(e,s[e])}function $d(n,t){const e=G(n);e.dragStart&&(e.dragging=!0,e.dragEnd=t,n.update("none"))}function Lr(n,t,e){const{onZoomStart:i,onZoomRejected:s}=e;if(i){const{left:o,top:r}=t.target.getBoundingClientRect(),a={x:t.clientX-o,y:t.clientY-r};if(R(i,[{chart:n,event:t,point:a}])===!1)return R(s,[{chart:n,event:t}]),!1}}function qd(n,t){const e=G(n),{pan:i,zoom:s={}}=e.options;if(Mr(We(i),t)||ji(We(s.drag),t))return R(s.onZoomRejected,[{chart:n,event:t}]);Lr(n,t,s)!==!1&&(e.dragStart=t,Bn(n,n.canvas,"mousemove",$d))}function Ir(n,t,e,i){const{left:s,top:o}=e.target.getBoundingClientRect(),r=at(t,"x",n),a=at(t,"y",n);let{top:c,left:l,right:u,bottom:d,width:h,height:p}=n.chartArea;r&&(l=Math.min(e.clientX,i.clientX)-s,u=Math.max(e.clientX,i.clientX)-s),a&&(c=Math.min(e.clientY,i.clientY)-o,d=Math.max(e.clientY,i.clientY)-o);const b=u-l,_=d-c;return{left:l,top:c,right:u,bottom:d,width:b,height:_,zoomX:r&&b?1+(h-b)/h:1,zoomY:a&&_?1+(p-_)/p:1}}function Gd(n,t){const e=G(n);if(!e.dragStart)return;yt(n,"mousemove");const{mode:i,onZoomComplete:s,drag:{threshold:o=0}}=e.options.zoom,r=Ir(n,i,e.dragStart,t),a=at(i,"x",n)?r.width:0,c=at(i,"y",n)?r.height:0,l=Math.sqrt(a*a+c*c);if(e.dragStart=e.dragEnd=null,l<=o){e.dragging=!1,n.update("none");return}Hd(n,{x:r.left,y:r.top},{x:r.right,y:r.bottom},"zoom"),setTimeout(()=>e.dragging=!1,500),R(s,[{chart:n}])}function Kd(n,t,e){if(ji(We(e.wheel),t)){R(e.onZoomRejected,[{chart:n,event:t}]);return}if(Lr(n,t,e)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function Zd(n,t){const{handlers:{onZoomComplete:e},options:{zoom:i}}=G(n);if(!Kd(n,t,i))return;const s=t.target.getBoundingClientRect(),o=1+(t.deltaY>=0?-i.wheel.speed:i.wheel.speed),r={x:o,y:o,focalPoint:{x:t.clientX-s.left,y:t.clientY-s.top}};$i(n,r),e&&e()}function Qd(n,t,e,i){e&&(G(n).handlers[t]=Ad(()=>R(e,[{chart:n}]),i))}function Jd(n,t){const e=n.canvas,{wheel:i,drag:s,onZoomComplete:o}=t.zoom;i.enabled?(Bn(n,e,"wheel",Zd),Qd(n,"onZoomComplete",o,250)):yt(n,"wheel"),s.enabled?(Bn(n,e,"mousedown",qd),Bn(n,e.ownerDocument,"mouseup",Gd)):(yt(n,"mousedown"),yt(n,"mousemove"),yt(n,"mouseup"))}function tf(n){yt(n,"mousedown"),yt(n,"mousemove"),yt(n,"mouseup"),yt(n,"wheel"),yt(n,"click")}function ef(n,t){return function(e,i){const{pan:s,zoom:o={}}=t.options;if(!s||!s.enabled)return!1;const r=i&&i.srcEvent;return r&&!t.panning&&i.pointerType==="mouse"&&(ji(We(s),r)||Mr(We(o.drag),r))?(R(s.onPanRejected,[{chart:n,event:i}]),!1):!0}}function nf(n,t){const e=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY),s=e/i;let o,r;return s>.3&&s<1.7?o=r=!0:e>i?o=!0:r=!0,{x:o,y:r}}function Fr(n,t,e){if(t.scale){const{center:i,pointers:s}=e,o=1/t.scale*e.scale,r=e.target.getBoundingClientRect(),a=nf(s[0],s[1]),c=t.options.zoom.mode,l={x:a.x&&at(c,"x",n)?o:1,y:a.y&&at(c,"y",n)?o:1,focalPoint:{x:i.x-r.left,y:i.y-r.top}};$i(n,l),t.scale=e.scale}}function sf(n,t){t.options.zoom.pinch.enabled&&(t.scale=1)}function of(n,t,e){t.scale&&(Fr(n,t,e),t.scale=null,R(t.options.zoom.onZoomComplete,[{chart:n}]))}function zr(n,t,e){const i=t.delta;i&&(t.panning=!0,Rr(n,{x:e.deltaX-i.x,y:e.deltaY-i.y},t.panScales),t.delta={x:e.deltaX,y:e.deltaY})}function rf(n,t,e){const{enabled:i,overScaleMode:s,onPanStart:o,onPanRejected:r}=t.options.pan;if(!i)return;const a=e.target.getBoundingClientRect(),c={x:e.center.x-a.left,y:e.center.y-a.top};if(R(o,[{chart:n,event:e,point:c}])===!1)return R(r,[{chart:n,event:e}]);t.panScales=s&&Sr(s,c,n),t.delta={x:0,y:0},clearTimeout(t.panEndTimeout),zr(n,t,e)}function af(n,t){t.delta=null,t.panning&&(t.panEndTimeout=setTimeout(()=>t.panning=!1,500),R(t.options.pan.onPanComplete,[{chart:n}]))}const qi=new WeakMap;function cf(n,t){const e=G(n),i=n.canvas,{pan:s,zoom:o}=t,r=new Ve.Manager(i);o&&o.pinch.enabled&&(r.add(new Ve.Pinch),r.on("pinchstart",()=>sf(n,e)),r.on("pinch",a=>Fr(n,e,a)),r.on("pinchend",a=>of(n,e,a))),s&&s.enabled&&(r.add(new Ve.Pan({threshold:s.threshold,enable:ef(n,e)})),r.on("panstart",a=>rf(n,e,a)),r.on("panmove",a=>zr(n,e,a)),r.on("panend",()=>af(n,e))),qi.set(n,r)}function lf(n){const t=qi.get(n);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),qi.delete(n))}var uf="1.1.1",wf={id:"zoom",version:uf,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,t,e){const i=G(n);i.options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),Ve&&cf(n,e),n.pan=(s,o,r)=>Rr(n,s,o,r),n.zoom=(s,o)=>$i(n,s,o),n.zoomScale=(s,o,r)=>jd(n,s,o,r),n.resetZoom=s=>Yd(n,s),n.getZoomLevel=()=>Xd(n)},beforeEvent(n){const t=G(n);if(t.panning||t.dragging)return!1},beforeUpdate:function(n,t,e){const i=G(n);i.options=e,Jd(n,e)},beforeDatasetsDraw:function(n,t,e){const{dragStart:i,dragEnd:s}=G(n);if(s){const{left:o,top:r,width:a,height:c}=Ir(n,e.zoom.mode,i,s),l=e.zoom.drag,u=n.ctx;u.save(),u.beginPath(),u.fillStyle=l.backgroundColor||"rgba(225,225,225,0.3)",u.fillRect(o,r,a,c),l.borderWidth>0&&(u.lineWidth=l.borderWidth,u.strokeStyle=l.borderColor||"rgba(225,225,225)",u.strokeRect(o,r,a,c)),u.restore()}},stop:function(n){tf(n),Ve&&lf(n),Rd(n)},panFunctions:Xi,zoomFunctions:Ui};const le=[];function kf(n,t=ne){let e;const i=new Set;function s(a){if(fa(n,a)&&(n=a,e)){const c=!le.length;for(const l of i)l[1](),le.push(l,n);if(c){for(let l=0;l<le.length;l+=2)le[l][0](le[l+1]);le.length=0}}}function o(a){s(a(n))}function r(a,c=ne){const l=[a,c];return i.add(l),i.size===1&&(e=t(s)||ne),a(n),()=>{i.delete(l),i.size===0&&(e(),e=null)}}return{set:s,update:o,subscribe:r}}export{Qo as C,vn as L,zi as P,Tf as S,bf as a,hf as b,df as c,pa as d,gf as e,dr as f,Wi as g,En as h,Sf as i,yf as j,pf as k,Mf as l,ff as m,ne as n,xf as o,wf as p,Ta as q,mf as r,fa as s,_f as t,Sa as u,vf as v,kf as w,wa as x,Je as y};
